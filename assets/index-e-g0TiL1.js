let r;const h=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&h.decode();let s=null;function w(){return(s===null||s.byteLength===0)&&(s=new Uint8Array(r.memory.buffer)),s}function T(e,n){return e=e>>>0,h.decode(w().subarray(e,e+n))}let c=null;function M(){return(c===null||c.byteLength===0)&&(c=new Uint8ClampedArray(r.memory.buffer)),c}function U(e,n){return e=e>>>0,M().subarray(e/1,e/1+n)}const i=new Array(128).fill(void 0);i.push(void 0,null,!0,!1);let l=i.length;function I(e){l===i.length&&i.push(i.length+1);const n=l;return l=i[n],i[n]=e,n}let y=0;function p(e,n){const t=n(e.length*1,1)>>>0;return w().set(e,t/1),y=e.length,t}let f=null;function m(){return(f===null||f.byteLength===0)&&(f=new Int32Array(r.memory.buffer)),f}function v(e,n){return e=e>>>0,w().subarray(e/1,e/1+n)}function D(e,n,t){try{const a=r.__wbindgen_add_to_stack_pointer(-16),A=p(e,r.__wbindgen_malloc),W=y;r.encode(a,A,W,n,t);var o=m()[a/4+0],u=m()[a/4+1],d=v(o,u).slice();return r.__wbindgen_free(o,u*1,1),d}finally{r.__wbindgen_add_to_stack_pointer(16)}}function E(e){return i[e]}function R(e){e<132||(i[e]=l,l=e)}function S(e){const n=E(e);return R(e),n}function k(e){const n=p(e,r.__wbindgen_malloc),t=y,o=r.decode(n,t);return S(o)}async function C(e,n){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,n)}catch(o){if(e.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",o);else throw o}const t=await e.arrayBuffer();return await WebAssembly.instantiate(t,n)}else{const t=await WebAssembly.instantiate(e,n);return t instanceof WebAssembly.Instance?{instance:t,module:e}:t}}function L(){const e={};return e.wbg={},e.wbg.__wbg_newwithownedu8clampedarrayandsh_91db5987993a08fb=function(n,t,o,u){var d=U(n,t).slice();r.__wbindgen_free(n,t*1,1);const a=new ImageData(d,o>>>0,u>>>0);return I(a)},e.wbg.__wbindgen_throw=function(n,t){throw new Error(T(n,t))},e}function O(e,n){return r=e.exports,_.__wbindgen_wasm_module=n,f=null,s=null,c=null,r}async function _(e){if(r!==void 0)return r;typeof e>"u"&&(e=new URL("/image-resizer/assets/squoosh_png_bg-EqBdjq9_.wasm",import.meta.url));const n=L();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));const{instance:t,module:o}=await C(await e,n);return O(t,o)}const j=globalThis.ServiceWorkerGlobalScope!==void 0,x=j&&typeof self<"u"&&globalThis.caches&&globalThis.caches.default!==void 0,q=typeof process=="object"&&process.release&&process.release.name==="node";(x||q)&&(globalThis.ImageData||(globalThis.ImageData=class{constructor(n,t,o){this.data=n,this.width=t,this.height=o}}),import.meta.url===void 0&&(import.meta.url="https://localhost"),typeof self<"u"&&self.location===void 0&&(self.location={href:""}));let b;async function F(e){return b||(b=_(e)),b}async function z(e){await F();const n=await D(e.data,e.width,e.height);if(!n)throw new Error("Encoding error.");return n.buffer}let g;async function $(e){return g||(g=_(e)),g}async function N(e){await $();const n=await k(new Uint8Array(e));if(!n)throw new Error("Encoding error.");return n}export{N as decode,z as encode};
