{"version":3,"sources":["Documentation/components/Documentation.tsx","constants.ts","ImageResizer/components/DropzonePlaceholder.tsx","ImageResizer/components/DropzoneContainer.tsx","ImageResizer/components/Footer.tsx","ImageResizer/logo.svg","ImageResizer/components/Header.tsx","ImageResizer/components/CategorizedChoiceGroup.tsx","ImageResizer/components/Fieldset.tsx","ImageResizer/components/SpinButtonContainer.tsx","ImageResizer/types.ts","ImageResizer/components/ImageResizerForm.tsx","ImageResizer/utilities/download-image.ts","ImageResizer/utilities/get-readable-size.ts","ImageResizer/components/ImageResizer.tsx","ImageResizer/components/ImageResizerContainer.tsx","Theme/components/GlobalStyles.tsx","Theme/components/ThemeProvider.tsx","serviceWorker.ts","index.tsx"],"names":["Documentation","theme","useTheme","css","marginLeft","marginRight","maxWidth","textAlign","to","marginTop","space","displayName","IMAGE_FORMAT_OPTIONS","key","text","optimize","DEFAULT_ID","COMMON_OPTIONS","lockAspectRatio","PRESET_OPTIONS","OPENGRAPH","aspectRatioHeight","aspectRatioWidth","id","HD720","HD1080","UHD","FACEBOOK_COVER_PHOTO","FACEBOOK_POST","FACEBOOK_SQUARE_POST","INSTAGRAM_SQUARE_POST","INSTAGRAM_LANDSCAPE_POST","INSTAGRAM_PORTRAIT_POST","INSTAGRAM_STORY","LINKEDIN_COVER_PHOTO","LINKEDIN_POST","TWITTER_HEADER_PHOTO","TWITTER_POST","SHAREPOINT_TILE","SHAREPOINT_WIDE","DropzonePlaceholder","Fragment","marginBottom","width","height","viewBox","fill","xmlns","d","fontSize","fontSizes","PrimaryButton","DropzoneContainer","onDropAccepted","accept","multiple","getRootProps","getInputProps","isDragActive","alignItems","backgroundColor","colors","white","disabledBackground","border","borderColor","themePrimary","neutralDark","cursor","display","flexDirection","justifyContent","padding","Footer","props","href","rel","target","_extends","Object","assign","i","arguments","length","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","filter","cx","cy","r","clipPath","transform","x","y","filterUnits","colorInterpolationFilters","floodOpacity","result","in","values","dy","stdDeviation","in2","SvgLogo","_ref","svgRef","title","titleId","ref","ForwardRef","Header","children","paddingLeft","margin","CategorizedChoiceOptionElement","disabled","name","onChange","value","option","isChecked","isLandscape","neutralLighterAlt","lineHeight","lineHeights","heading","paddingBottom","position","transitionDuration","transitionProperty","transitionTimingFunction","undefined","neutralLighter","neutralSecondary","opacity","borderRadius","label","right","top","outlineColor","content","left","role","checked","e","type","flexGrow","boxShadow","shadows","depth8","style","neutralLight","color","CategorizedChoiceGroup","groups","group","options","map","groupIndex","Label","gap","gridTemplateColumns","optionIndex","Fieldset","legend","isExpanded","onClick","useState","isOpen","setIsOpen","uid","useUID","useEffect","borderLeft","borderRight","aria-controls","aria-expanded","fontWeight","fontWeights","semibold","paddingRight","FontIcon","iconName","aria-labelledby","paddingTop","hidden","Position","SpinButtonContainer","min","onDecrement","onIncrement","step","isFloat","SpinButton","labelPosition","newValue","parseFloat","parseInt","newValueFixed","toFixed","toString","Status","ImageResizerForm","isDownloading","image","formState","onSubmit","setFormState","accordionOpen","setAccordionOpen","aspectRatioDisabled","aspectRatioHeightValue","isNaN","aspectRatioWidthValue","params","URLSearchParams","append","format","port","window","location","protocol","hostname","history","replaceState","preventDefault","gridGap","TooltipHost","aria-label","max","Infinity","onBlur","currentTarget","prevState","change","IconButton","ariaLabel","iconProps","naturalWidth","newMaxWidth","_e","Dropdown","selectedKey","Toggle","find","o","offText","onText","borderTop","bottom","currentSrc","Spinner","size","SpinnerSize","xSmall","MIME_TYPE_MAP","jpg","png","webp","downloadImage","a","crop","fileName","quality","canvas","document","createElement","ctx","getContext","scaleX","scaleY","naturalHeight","cropX","cropY","cropWidth","cropHeight","shouldScale","Math","round","sx","sy","sWidth","sHeight","drawImage","fileNameWithoutExtension","split","slice","join","newFileName","toBlob","blob","arrayBuffer","blobArrayBuffer","optimizeImage","Uint8Array","res","Blob","data","URL","createObjectURL","downloadHref","Promise","resolve","reject","filename","download","body","appendChild","click","removeChild","optipng","default","encode","getReadableSize","sizes","pow","DEFAULT_FILE_STATE","status","Initial","ImageCrop","React","lazy","ImageResizer","imageRef","useRef","unit","setCrop","fileState","setFileState","defaultFormState","setDefaultCrop","useCallback","current","aspectRatio","defaultCrop","resetCrop","aspect","onDrop","files","file","Success","src","setTimeout","resetImage","Downloading","results","console","table","info","overflowX","overflowY","gridTemplateRows","Loading","ActionButton","styles","root","whiteSpace","icon","depth16","maxHeight","userSelect","Suspense","fallback","locked","onComplete","newCrop","percentageCrop","onImageLoaded","requestAnimationFrame","ruleOfThirds","ImageResizerContainer","urlParams","search","get","registerIcons","icons","ChevronDownSmall","ChevronDown","ChevronUpSmall","ChevronUp","ClearSelection","Download","Lock","RemoveFilter","Unlock","Upload","GlobalStyles","checkeredSize","boxSizing","WebkitFontSmoothing","html","bodyText","fontFamily","fonts","p","h1","h2","borderBottom","h3","neutralPrimary","textDecoration","transition","primaryText","hr","listStyle","borderCollapse","img","backgroundImage","backgroundSize","backgroundPosition","loadTheme","defaultFontStyle","palette","ThemeProvider","Boolean","match","TagManager","initialize","gtmId","process","ReactDOM","render","exact","path","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.c224dbcc.chunk.js","sourcesContent":["/** @jsxImportSource @emotion/react */\r\n\r\nimport { useTheme } from '@emotion/react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport const Documentation = () => {\r\n\tconst theme = useTheme();\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tcss={{\r\n\t\t\t\tmarginLeft: 'auto',\r\n\t\t\t\tmarginRight: 'auto',\r\n\t\t\t\tmaxWidth: '50rem'\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<p\r\n\t\t\t\tcss={{\r\n\t\t\t\t\ttextAlign: 'center'\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Link to=\"/image-resizer\">Return to resizer</Link>\r\n\t\t\t</p>\r\n\r\n\t\t\t<h1\r\n\t\t\t\tcss={{\r\n\t\t\t\t\tmarginTop: theme.space[7]\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\tDocumentation\r\n\t\t\t</h1>\r\n\r\n\t\t\t<p>\r\n\t\t\t\tThis app resizes images to a specific maximum width and aspect ratio. It is to help content authors generate\r\n\t\t\t\tcorrectly sized images when their authoring tools may not support image editing. Links to this app can be\r\n\t\t\t\tgenerated with special query strings that fill out the various form options.\r\n\t\t\t</p>\r\n\r\n\t\t\t<h2>Query string options</h2>\r\n\r\n\t\t\t<ul>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<b>max-w</b> <code>[number]</code>: Sets the maximum width of the image.\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<b>ar-w</b> <code>[number]</code>: Sets the aspect ratio width.\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<b>ar-h</b> <code>[number]</code>: Sets the aspect ratio height.\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<b>format</b> <code>['jpg'|'png']</code>: Sets the format of the image.\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<b>optimize</b> <code>['true'|'false']</code>: Sets whether or not the image should be optimized after\r\n\t\t\t\t\tresizing, using either <i>mozjpeg</i> or <i>optipng</i>.\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nDocumentation.displayName = 'Documentation';\r\n","export const DEFAULT_ASPECT_RATIO_HEIGHT = 1;\r\nexport const DEFAULT_ASPECT_RATIO_WIDTH = 1;\r\nexport const DEFAULT_FORMAT = 'jpg';\r\n\r\nexport const IMAGE_FORMAT_OPTIONS = [\r\n\t{\r\n\t\tkey: 'jpg',\r\n\t\ttext: 'JPG (photography)',\r\n\t\toptimize: true\r\n\t},\r\n\t{\r\n\t\tkey: 'png',\r\n\t\ttext: 'PNG (illustrations, text or transparency)',\r\n\t\toptimize: true\r\n\t},\r\n\t{\r\n\t\tkey: 'webp',\r\n\t\ttext: 'WebP',\r\n\t\toptimize: false\r\n\t}\r\n];\r\n\r\nexport const DEFAULT_ID = 'CUSTOM';\r\n\r\nexport const COMMON_OPTIONS = {\r\n\tlockAspectRatio: true\r\n};\r\n\r\nexport const PRESET_OPTIONS = {\r\n\tOPENGRAPH: {\r\n\t\t...COMMON_OPTIONS,\r\n\t\taspectRatioHeight: 630,\r\n\t\taspectRatioWidth: 1200,\r\n\t\tid: 'OPENGRAPH',\r\n\t\tmaxWidth: 1200,\r\n\t\ttext: 'Open Graph image'\r\n\t},\r\n\tHD720: {\r\n\t\t...COMMON_OPTIONS,\r\n\t\taspectRatioHeight: 720,\r\n\t\taspectRatioWidth: 1280,\r\n\t\tid: '720p',\r\n\t\tmaxWidth: 1280,\r\n\t\ttext: '720p (16:9)'\r\n\t},\r\n\tHD1080: {\r\n\t\t...COMMON_OPTIONS,\r\n\t\taspectRatioHeight: 1080,\r\n\t\taspectRatioWidth: 1920,\r\n\t\tid: '1080p',\r\n\t\tmaxWidth: 1920,\r\n\t\ttext: '1080p (16:9)'\r\n\t},\r\n\tUHD: {\r\n\t\t...COMMON_OPTIONS,\r\n\t\taspectRatioHeight: 2160,\r\n\t\taspectRatioWidth: 3840,\r\n\t\tid: '4K',\r\n\t\tmaxWidth: 3840,\r\n\t\ttext: '4K (16:9)'\r\n\t},\r\n\tFACEBOOK_COVER_PHOTO: {\r\n\t\t...COMMON_OPTIONS,\r\n\t\taspectRatioHeight: 312,\r\n\t\taspectRatioWidth: 820,\r\n\t\tid: 'FACEBOOK_COVER_PHOTO',\r\n\t\tmaxWidth: 820,\r\n\t\ttext: 'Cover photo'\r\n\t},\r\n\tFACEBOOK_POST: {\r\n\t\t...COMMON_OPTIONS,\r\n\t\taspectRatioHeight: 630,\r\n\t\taspectRatioWidth: 1200,\r\n\t\tid: 'FACEBOOK_POST',\r\n\t\tmaxWidth: 1200,\r\n\t\ttext: 'Post'\r\n\t},\r\n\tFACEBOOK_SQUARE_POST: {\r\n\t\t...COMMON_OPTIONS,\r\n\t\taspectRatioHeight: 1200,\r\n\t\taspectRatioWidth: 1200,\r\n\t\tid: 'FACEBOOK_SQUARE_POST',\r\n\t\tmaxWidth: 1200,\r\n\t\ttext: 'Square post'\r\n\t},\r\n\tINSTAGRAM_SQUARE_POST: {\r\n\t\t...COMMON_OPTIONS,\r\n\t\taspectRatioHeight: 1080,\r\n\t\taspectRatioWidth: 1080,\r\n\t\tid: 'INSTAGRAM_SQUARE_POST',\r\n\t\tmaxWidth: 1080,\r\n\t\ttext: 'Square post'\r\n\t},\r\n\tINSTAGRAM_LANDSCAPE_POST: {\r\n\t\t...COMMON_OPTIONS,\r\n\t\taspectRatioHeight: 566,\r\n\t\taspectRatioWidth: 1080,\r\n\t\tid: 'INSTAGRAM_LANDSCAPE_POST',\r\n\t\tmaxWidth: 1080,\r\n\t\ttext: 'Landscape post'\r\n\t},\r\n\tINSTAGRAM_PORTRAIT_POST: {\r\n\t\t...COMMON_OPTIONS,\r\n\t\taspectRatioHeight: 1350,\r\n\t\taspectRatioWidth: 1080,\r\n\t\tid: 'INSTAGRAM_PORTRAIT_POST',\r\n\t\tmaxWidth: 1080,\r\n\t\ttext: 'Portrait post'\r\n\t},\r\n\tINSTAGRAM_STORY: {\r\n\t\t...COMMON_OPTIONS,\r\n\t\taspectRatioHeight: 1920,\r\n\t\taspectRatioWidth: 1080,\r\n\t\tid: 'INSTAGRAM_STORY',\r\n\t\tmaxWidth: 1080,\r\n\t\ttext: 'Story'\r\n\t},\r\n\tLINKEDIN_COVER_PHOTO: {\r\n\t\t...COMMON_OPTIONS,\r\n\t\taspectRatioHeight: 396,\r\n\t\taspectRatioWidth: 1584,\r\n\t\tid: 'LINKEDIN_COVER_PHOTO',\r\n\t\tmaxWidth: 1584,\r\n\t\ttext: 'Cover photo'\r\n\t},\r\n\tLINKEDIN_POST: {\r\n\t\t...COMMON_OPTIONS,\r\n\t\taspectRatioHeight: 628,\r\n\t\taspectRatioWidth: 1200,\r\n\t\tid: 'LINKEDIN_POST',\r\n\t\tmaxWidth: 1200,\r\n\t\ttext: 'Post'\r\n\t},\r\n\tTWITTER_HEADER_PHOTO: {\r\n\t\t...COMMON_OPTIONS,\r\n\t\taspectRatioHeight: 500,\r\n\t\taspectRatioWidth: 1500,\r\n\t\tid: 'TWITTER_HEADER_PHOTO',\r\n\t\tmaxWidth: 1500,\r\n\t\ttext: 'Header photo'\r\n\t},\r\n\tTWITTER_POST: {\r\n\t\t...COMMON_OPTIONS,\r\n\t\taspectRatioHeight: 512,\r\n\t\taspectRatioWidth: 1012,\r\n\t\tid: 'TWITTER_POST',\r\n\t\tmaxWidth: 1012,\r\n\t\ttext: 'Post'\r\n\t},\r\n\tSHAREPOINT_TILE: {\r\n\t\t...COMMON_OPTIONS,\r\n\t\taspectRatioHeight: 903,\r\n\t\taspectRatioWidth: 1204,\r\n\t\tid: 'SHAREPOINT_TILE',\r\n\t\tmaxWidth: 1204,\r\n\t\ttext: 'Tile image (4:3)'\r\n\t},\r\n\tSHAREPOINT_WIDE: {\r\n\t\t...COMMON_OPTIONS,\r\n\t\taspectRatioHeight: 677,\r\n\t\taspectRatioWidth: 1204,\r\n\t\tid: 'SHAREPOINT_WIDE',\r\n\t\tmaxWidth: 1204,\r\n\t\ttext: 'Wide image (16:9)'\r\n\t}\r\n};\r\n","/** @jsxImportSource @emotion/react */\r\n\r\nimport { useTheme } from '@emotion/react';\r\nimport React from 'react';\r\n\r\nimport { PrimaryButton } from '@fluentui/react/lib/Button';\r\n\r\n/**\r\n * Content to be shown before the dropzone area is being used. Not shown when\r\n * the dropzone is active (i.e. when a user is dragging a file).\r\n */\r\nexport const DropzonePlaceholder = () => {\r\n\tconst theme = useTheme();\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<svg\r\n\t\t\t\tcss={{\r\n\t\t\t\t\tmarginBottom: theme.space[2]\r\n\t\t\t\t}}\r\n\t\t\t\twidth=\"27\"\r\n\t\t\t\theight=\"43\"\r\n\t\t\t\tviewBox=\"0 0 27 43\"\r\n\t\t\t\tfill=\"none\"\r\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t>\r\n\t\t\t\t<path\r\n\t\t\t\t\td=\"M25.25 0V2.6875H1.0625V0H25.25ZM26.1948 20.5552L24.3052 22.4448L14.5 12.5767V43H11.8125V12.5767L2.00732 22.4448L0.117676 20.5552L13.1562 7.41162L26.1948 20.5552Z\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t/>\r\n\t\t\t</svg>\r\n\r\n\t\t\t<div\r\n\t\t\t\tcss={{\r\n\t\t\t\t\tfontSize: theme.fontSizes[5],\r\n\t\t\t\t\tmarginBottom: theme.space[2]\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\tDrag a photo here\r\n\t\t\t</div>\r\n\t\t\t<div\r\n\t\t\t\tcss={{\r\n\t\t\t\t\tfontSize: theme.fontSizes[5],\r\n\t\t\t\t\tmarginBottom: theme.space[2]\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\tor\r\n\t\t\t</div>\r\n\r\n\t\t\t<PrimaryButton>Select one from your device</PrimaryButton>\r\n\t\t</React.Fragment>\r\n\t);\r\n};\r\n\r\nDropzonePlaceholder.displayName = 'DropzonePlaceholder';\r\n","/** @jsxImportSource @emotion/react */\r\n\r\nimport { useTheme } from '@emotion/react';\r\nimport Dropzone, { DropzoneOptions } from 'react-dropzone';\r\n\r\nimport { DropzonePlaceholder } from './DropzonePlaceholder';\r\n\r\ntype DropzoneContainerProps = Pick<DropzoneOptions, 'onDropAccepted'>;\r\n\r\n/**\r\n * Displays the dashed bordered area where files can be dragged into. A button\r\n * can also be clicked on to pop up the file picker.\r\n */\r\nexport const DropzoneContainer = ({ onDropAccepted }: DropzoneContainerProps) => {\r\n\tconst theme = useTheme();\r\n\r\n\treturn (\r\n\t\t<Dropzone accept=\".avif,.bmp,.gif,.jpeg,.jpg,.png,.tiff,.webp\" multiple={false} onDropAccepted={onDropAccepted}>\r\n\t\t\t{({ getRootProps, getInputProps, isDragActive }) => (\r\n\t\t\t\t<div\r\n\t\t\t\t\tcss={{\r\n\t\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\t\tbackgroundColor: isDragActive ? theme.colors.white : theme.colors.disabledBackground,\r\n\t\t\t\t\t\tborder: `1px dashed`,\r\n\t\t\t\t\t\tborderColor: isDragActive ? theme.colors.themePrimary : theme.colors.neutralDark,\r\n\t\t\t\t\t\tcursor: 'pointer',\r\n\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\tflexDirection: 'column',\r\n\t\t\t\t\t\tjustifyContent: 'center',\r\n\t\t\t\t\t\theight: '100%',\r\n\t\t\t\t\t\tpadding: theme.space[4],\r\n\t\t\t\t\t\ttextAlign: 'center',\r\n\t\t\t\t\t\twidth: '100%'\r\n\t\t\t\t\t}}\r\n\t\t\t\t\t{...getRootProps()}\r\n\t\t\t\t>\r\n\t\t\t\t\t<input {...getInputProps()} />\r\n\r\n\t\t\t\t\t{isDragActive ? <p>Drop the file here...</p> : <DropzonePlaceholder />}\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</Dropzone>\r\n\t);\r\n};\r\n\r\nDropzoneContainer.displayName = 'DropzoneContainer';\r\n","/** @jsxImportSource @emotion/react */\r\n\r\nimport { useTheme } from '@emotion/react';\r\nimport { Link } from 'react-router-dom';\r\n\r\ntype FooterProps = React.ClassAttributes<HTMLElement> & React.HTMLAttributes<HTMLElement>;\r\n\r\nexport const Footer = (props: FooterProps) => {\r\n\tconst theme = useTheme();\r\n\r\n\treturn (\r\n\t\t<footer\r\n\t\t\tcss={{\r\n\t\t\t\tmarginTop: theme.space[3]\r\n\t\t\t}}\r\n\t\t\t{...props}\r\n\t\t>\r\n\t\t\t<p\r\n\t\t\t\tcss={{\r\n\t\t\t\t\tfontSize: theme.fontSizes[1],\r\n\t\t\t\t\tmarginBottom: 0,\r\n\t\t\t\t\ttextAlign: 'center'\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\tby{' '}\r\n\t\t\t\t<a href=\"https://www.habaneroconsulting.com\" rel=\"noopener noreferrer\" target=\"_blank\">\r\n\t\t\t\t\tHabanero Consulting Group\r\n\t\t\t\t</a>{' '}\r\n\t\t\t\t| <Link to=\"/image-resizer/documentation\">Documentation</Link> |{' '}\r\n\t\t\t\t<a href=\"https://www.habaneroconsulting.com/privacy-policy\" target=\"_blank\" rel=\"noreferrer\">\r\n\t\t\t\t\tPrivacy policy\r\n\t\t\t\t</a>\r\n\t\t\t</p>\r\n\t\t</footer>\r\n\t);\r\n};\r\n\r\nFooter.displayName = 'Footer';\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  filter: \"url(#filter0_dd)\"\n}, /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 36,\n  cy: 34,\n  r: 32,\n  fill: \"#F6E8EA\"\n}));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  clipPath: \"url(#clip0)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M51.9453 36.1172H54v12.3281H21.125V19.6797h28.7656v8.2187h2.0547v8.2188zM23.1797 46.3906h8.2187V27.8984h16.4375v-6.164H23.1797v24.6562zm10.2734 0h8.2188V36.1172h8.2187v-6.1641H33.4531v16.4375zm18.4922 0v-8.2187h-8.2187v8.2187h8.2187z\",\n  fill: \"#A71930\"\n}));\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"clipPath\", {\n  id: \"clip0\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#fff\",\n  transform: \"translate(21.125 17.625)\",\n  d: \"M0 0h32.875v32.875H0z\"\n})), /*#__PURE__*/React.createElement(\"filter\", {\n  id: \"filter0_dd\",\n  x: 0.4,\n  y: 1.2e-7,\n  width: 71.2,\n  height: 71.2,\n  filterUnits: \"userSpaceOnUse\",\n  colorInterpolationFilters: \"sRGB\"\n}, /*#__PURE__*/React.createElement(\"feFlood\", {\n  floodOpacity: 0,\n  result: \"BackgroundImageFix\"\n}), /*#__PURE__*/React.createElement(\"feColorMatrix\", {\n  in: \"SourceAlpha\",\n  values: \"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n}), /*#__PURE__*/React.createElement(\"feOffset\", {\n  dy: 0.3\n}), /*#__PURE__*/React.createElement(\"feGaussianBlur\", {\n  stdDeviation: 0.45\n}), /*#__PURE__*/React.createElement(\"feColorMatrix\", {\n  values: \"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.108 0\"\n}), /*#__PURE__*/React.createElement(\"feBlend\", {\n  in2: \"BackgroundImageFix\",\n  result: \"effect1_dropShadow\"\n}), /*#__PURE__*/React.createElement(\"feColorMatrix\", {\n  in: \"SourceAlpha\",\n  values: \"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n}), /*#__PURE__*/React.createElement(\"feOffset\", {\n  dy: 1.6\n}), /*#__PURE__*/React.createElement(\"feGaussianBlur\", {\n  stdDeviation: 1.8\n}), /*#__PURE__*/React.createElement(\"feColorMatrix\", {\n  values: \"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.132 0\"\n}), /*#__PURE__*/React.createElement(\"feBlend\", {\n  in2: \"effect1_dropShadow\",\n  result: \"effect2_dropShadow\"\n}), /*#__PURE__*/React.createElement(\"feBlend\", {\n  in: \"SourceGraphic\",\n  in2: \"effect2_dropShadow\",\n  result: \"shape\"\n})));\n\nfunction SvgLogo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 72,\n    height: 72,\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogo);\nexport default __webpack_public_path__ + \"static/media/logo.e1e934b8.svg\";\nexport { ForwardRef as ReactComponent };","/** @jsxImportSource @emotion/react */\r\n\r\nimport { useTheme } from '@emotion/react';\r\nimport React from 'react';\r\n\r\nimport { ReactComponent as LogoSvg } from '../logo.svg';\r\n\r\ntype HeaderProps = {\r\n\tchildren?: React.ReactNode;\r\n};\r\n\r\n/**\r\n * Basic header content.\r\n */\r\nexport const Header = ({ children }: HeaderProps) => {\r\n\tconst theme = useTheme();\r\n\r\n\treturn (\r\n\t\t<header\r\n\t\t\tcss={{\r\n\t\t\t\talignItems: 'center',\r\n\t\t\t\tdisplay: 'flex',\r\n\t\t\t\tmarginBottom: theme.space[3],\r\n\t\t\t\tpaddingLeft: theme.space[3]\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div>\r\n\t\t\t\t<LogoSvg\r\n\t\t\t\t\tcss={{\r\n\t\t\t\t\t\tdisplay: 'block'\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div\r\n\t\t\t\tcss={{\r\n\t\t\t\t\tmarginLeft: theme.space[3]\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<h1\r\n\t\t\t\t\tcss={{\r\n\t\t\t\t\t\tfontSize: theme.fontSizes[6],\r\n\t\t\t\t\t\tmargin: 0\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<i>Haba</i>sizer\r\n\t\t\t\t</h1>\r\n\t\t\t</div>\r\n\r\n\t\t\t{children}\r\n\t\t</header>\r\n\t);\r\n};\r\n\r\nHeader.displayName = 'Logo';\r\n","/** @jsxImportSource @emotion/react */\r\n\r\nimport { useTheme } from '@emotion/react';\r\nimport { Label } from '@fluentui/react/lib/Label';\r\nimport { ChangeEvent, Fragment } from 'react';\r\n\r\ntype CategorizedChoiceOption = {\r\n\taspectRatioHeight?: number;\r\n\taspectRatioWidth?: number;\r\n\tid: string;\r\n\ttext: string;\r\n};\r\n\r\ntype CategorizedChoiceOptionProps = CategorizedChoiceOption &\r\n\tPick<CategorizedChoiceGroupProps, 'disabled' | 'name' | 'onChange' | 'value'>;\r\n\r\ntype CategorizedChoiceGroupOptions = {\r\n\tlabel?: string;\r\n\toptions: CategorizedChoiceOption[];\r\n};\r\n\r\ntype CategorizedChoiceGroupProps = {\r\n\tdisabled?: boolean;\r\n\tgroups: CategorizedChoiceGroupOptions[];\r\n\tname: string;\r\n\tonChange: (event: ChangeEvent, option: CategorizedChoiceOption) => void;\r\n\tvalue: string;\r\n};\r\n\r\nconst CategorizedChoiceOptionElement = ({\r\n\tdisabled,\r\n\tname,\r\n\tonChange,\r\n\tvalue,\r\n\t...option\r\n}: CategorizedChoiceOptionProps) => {\r\n\tconst theme = useTheme();\r\n\r\n\tconst isChecked = option.id === value;\r\n\tconst isLandscape = option.aspectRatioWidth > option.aspectRatioHeight;\r\n\r\n\tconst maxWidth = isLandscape ? 100 : 84;\r\n\tconst height = isLandscape ? `${(option.aspectRatioHeight / option.aspectRatioWidth) * maxWidth}px` : maxWidth;\r\n\tconst width = isLandscape ? maxWidth : `${(option.aspectRatioWidth / option.aspectRatioHeight) * maxWidth}px`;\r\n\r\n\treturn (\r\n\t\t<label\r\n\t\t\tcss={{\r\n\t\t\t\talignItems: 'center',\r\n\t\t\t\tbackgroundColor: theme.colors.neutralLighterAlt,\r\n\t\t\t\tborder: '1px solid',\r\n\t\t\t\tborderColor: isChecked ? theme.colors.themePrimary : 'transparent',\r\n\t\t\t\tcursor: 'pointer',\r\n\t\t\t\tdisplay: 'flex',\r\n\t\t\t\tflexDirection: 'column',\r\n\t\t\t\tfontSize: theme.fontSizes[1],\r\n\t\t\t\theight: 130,\r\n\t\t\t\tjustifyContent: 'center',\r\n\t\t\t\tlineHeight: theme.lineHeights.heading,\r\n\t\t\t\tpadding: theme.space[3],\r\n\t\t\t\tpaddingBottom: theme.space[2],\r\n\t\t\t\tposition: 'relative',\r\n\t\t\t\ttextAlign: 'center',\r\n\t\t\t\ttransitionDuration: '200ms',\r\n\t\t\t\ttransitionProperty: 'all',\r\n\t\t\t\ttransitionTimingFunction: 'ease',\r\n\r\n\t\t\t\t'&:hover, &:focus-within': {\r\n\t\t\t\t\tbackgroundColor: disabled ? undefined : theme.colors.neutralLighter,\r\n\t\t\t\t\tborderColor: isChecked ? theme.colors.themePrimary : theme.colors.neutralSecondary,\r\n\r\n\t\t\t\t\t'[class*=\"input\"]': {\r\n\t\t\t\t\t\topacity: 1\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div\r\n\t\t\t\tcss={{\r\n\t\t\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\t\t\tborder: `1px solid ${theme.colors.neutralSecondary}`,\r\n\t\t\t\t\tborderRadius: '50%',\r\n\t\t\t\t\tlabel: 'input',\r\n\t\t\t\t\theight: 16,\r\n\t\t\t\t\topacity: isChecked ? 1 : 0,\r\n\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\tright: theme.space[1],\r\n\t\t\t\t\ttop: theme.space[1],\r\n\t\t\t\t\ttransitionDuration: '200ms',\r\n\t\t\t\t\ttransitionProperty: 'all',\r\n\t\t\t\t\ttransitionTimingFunction: 'ease',\r\n\t\t\t\t\twidth: 16,\r\n\r\n\t\t\t\t\t'&:hover, &:focus': {\r\n\t\t\t\t\t\topacity: disabled ? 0 : 1\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t'&:focus': {\r\n\t\t\t\t\t\toutlineColor: theme.colors.themePrimary\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t'::before': {\r\n\t\t\t\t\t\tbackgroundColor: theme.colors.themePrimary,\r\n\t\t\t\t\t\tborderRadius: '50%',\r\n\t\t\t\t\t\tcontent: '\"\"',\r\n\t\t\t\t\t\tdisplay: isChecked ? 'block' : 'none',\r\n\t\t\t\t\t\theight: 8,\r\n\t\t\t\t\t\tleft: 3,\r\n\t\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t\ttop: 3,\r\n\t\t\t\t\t\twidth: 8\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t\trole=\"presentation\"\r\n\t\t\t/>\r\n\r\n\t\t\t<input\r\n\t\t\t\tchecked={isChecked}\r\n\t\t\t\tcss={{\r\n\t\t\t\t\topacity: 0,\r\n\t\t\t\t\tposition: 'absolute'\r\n\t\t\t\t}}\r\n\t\t\t\tdisabled={disabled}\r\n\t\t\t\tname={name}\r\n\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\tif (!disabled) {\r\n\t\t\t\t\t\tonChange(e, option);\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t\ttype=\"radio\"\r\n\t\t\t\tvalue={option.id}\r\n\t\t\t/>\r\n\r\n\t\t\t{option.aspectRatioWidth && option.aspectRatioHeight && (\r\n\t\t\t\t<div\r\n\t\t\t\t\tcss={{\r\n\t\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\tflexGrow: 1,\r\n\t\t\t\t\t\tjustifyContent: 'center',\r\n\t\t\t\t\t\tmarginBottom: theme.space[3],\r\n\t\t\t\t\t\twidth: maxWidth\r\n\t\t\t\t\t}}\r\n\t\t\t\t\trole=\"presentation\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tcss={{\r\n\t\t\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\t\t\tboxShadow: theme.shadows.depth8,\r\n\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\tfontSize: theme.fontSizes[0],\r\n\t\t\t\t\t\t\tjustifyContent: 'center',\r\n\t\t\t\t\t\t\tlabel: 'aspect-ratio-preview'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tbackgroundColor: isChecked ? theme.colors.themePrimary : theme.colors.neutralLight,\r\n\t\t\t\t\t\t\tcolor: isChecked ? theme.colors.white : undefined,\r\n\t\t\t\t\t\t\theight,\r\n\t\t\t\t\t\t\twidth\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{option.aspectRatioWidth} x&nbsp;{option.aspectRatioHeight}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\r\n\t\t\t<span>{option.text}</span>\r\n\t\t</label>\r\n\t);\r\n};\r\n\r\nexport const CategorizedChoiceGroup = ({\r\n\tdisabled = false,\r\n\tgroups,\r\n\tname,\r\n\tonChange,\r\n\tvalue\r\n}: CategorizedChoiceGroupProps) => {\r\n\tconst theme = useTheme();\r\n\r\n\tif (!groups) {\r\n\t\treturn;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Fragment>\r\n\t\t\t{groups\r\n\t\t\t\t.filter((group) => group.options.length > 0)\r\n\t\t\t\t.map((group, groupIndex) => {\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tcss={{\r\n\t\t\t\t\t\t\t\tmarginTop: groupIndex === 0 ? 0 : theme.space[3]\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tkey={`group-key-${groupIndex}`}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{group.label && <Label>{group.label}</Label>}\r\n\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tcss={{\r\n\t\t\t\t\t\t\t\t\tdisplay: 'grid',\r\n\t\t\t\t\t\t\t\t\tgap: theme.space[2],\r\n\t\t\t\t\t\t\t\t\tgridTemplateColumns: 'repeat(2, 1fr)'\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{group.options.map((option, optionIndex) => (\r\n\t\t\t\t\t\t\t\t\t<CategorizedChoiceOptionElement\r\n\t\t\t\t\t\t\t\t\t\t{...option}\r\n\t\t\t\t\t\t\t\t\t\tdisabled={disabled}\r\n\t\t\t\t\t\t\t\t\t\tkey={`group-${groupIndex}-option-key-${optionIndex}`}\r\n\t\t\t\t\t\t\t\t\t\tname={name}\r\n\t\t\t\t\t\t\t\t\t\tonChange={onChange}\r\n\t\t\t\t\t\t\t\t\t\tvalue={value}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t</Fragment>\r\n\t);\r\n};\r\n\r\nCategorizedChoiceGroup.displayName = 'CategorizedChoiceGroup';\r\n","/** @jsxImportSource @emotion/react */\r\n\r\nimport { useTheme } from '@emotion/react';\r\nimport { FontIcon } from '@fluentui/react/lib/Icon';\r\nimport { useEffect, useState } from 'react';\r\nimport { useUID } from 'react-uid';\r\n\r\ntype FieldsetProps = React.DetailedHTMLProps<React.HTMLAttributes<HTMLDivElement>, HTMLDivElement> & {\r\n\tisExpanded?: boolean;\r\n\tlegend: string;\r\n\tonClick?: () => void;\r\n};\r\n\r\n/**\r\n * Common styles for fieldsets.\r\n */\r\nexport const Fieldset = ({ children, legend, isExpanded = false, onClick, ...props }: FieldsetProps) => {\r\n\tconst theme = useTheme();\r\n\r\n\tconst [isOpen, setIsOpen] = useState(isExpanded);\r\n\tconst uid = useUID();\r\n\r\n\tuseEffect(() => {\r\n\t\tsetIsOpen(isExpanded);\r\n\t}, [isExpanded]);\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tcss={{\r\n\t\t\t\tborder: `1px solid`,\r\n\t\t\t\tborderColor: theme.colors.neutralLight,\r\n\t\t\t\tborderLeft: 0,\r\n\t\t\t\tborderRight: 0,\r\n\t\t\t\tmarginTop: -1\r\n\t\t\t}}\r\n\t\t\t{...props}\r\n\t\t>\r\n\t\t\t<button\r\n\t\t\t\taria-controls={`${uid}-region`}\r\n\t\t\t\taria-expanded={isOpen}\r\n\t\t\t\tcss={{\r\n\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\tbackgroundColor: 'transparent',\r\n\t\t\t\t\tborder: 0,\r\n\t\t\t\t\tcursor: 'pointer',\r\n\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\tfontSize: theme.fontSizes[3],\r\n\t\t\t\t\tfontWeight: theme.fontWeights.semibold,\r\n\t\t\t\t\theight: '44px',\r\n\t\t\t\t\tjustifyContent: 'space-between',\r\n\t\t\t\t\tpaddingLeft: theme.space[3],\r\n\t\t\t\t\tpaddingRight: theme.space[3],\r\n\t\t\t\t\ttextAlign: 'left',\r\n\t\t\t\t\twidth: '100%',\r\n\r\n\t\t\t\t\t'&:focus, &:hover': {\r\n\t\t\t\t\t\tbackgroundColor: theme.colors.neutralLighter\r\n\t\t\t\t\t}\r\n\t\t\t\t}}\r\n\t\t\t\tonClick={\r\n\t\t\t\t\tonClick\r\n\t\t\t\t\t\t? onClick\r\n\t\t\t\t\t\t: () => {\r\n\t\t\t\t\t\t\t\tsetIsOpen(!isOpen);\r\n\t\t\t\t\t\t  }\r\n\t\t\t\t}\r\n\t\t\t\tid={`${uid}-button`}\r\n\t\t\t\ttype=\"button\"\r\n\t\t\t>\r\n\t\t\t\t<span>{legend}</span>\r\n\r\n\t\t\t\t<FontIcon iconName={isOpen ? 'ChevronUp' : 'ChevronDown'} />\r\n\t\t\t</button>\r\n\r\n\t\t\t<div\r\n\t\t\t\taria-labelledby={`${uid}-button`}\r\n\t\t\t\tcss={{\r\n\t\t\t\t\tpadding: theme.space[3],\r\n\t\t\t\t\tpaddingTop: theme.space[2]\r\n\t\t\t\t}}\r\n\t\t\t\thidden={!isOpen}\r\n\t\t\t\tid={`${uid}-region`}\r\n\t\t\t\trole=\"region\"\r\n\t\t\t>\r\n\t\t\t\t{children}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nFieldset.displayName = 'Fieldset';\r\n","/** @jsxImportSource @emotion/react */\r\n\r\nimport { SpinButton, ISpinButtonProps } from '@fluentui/react/lib/SpinButton';\r\n\r\ntype SpinButtonContainerProps = ISpinButtonProps;\r\n\r\n// Taken from:\r\n// import { Position } from 'office-ui-fabric-react/lib/utilities/positioning';\r\nenum Position {\r\n\ttop = 0,\r\n\tbottom = 1,\r\n\tstart = 2,\r\n\tend = 3\r\n}\r\n\r\nexport const SpinButtonContainer = ({ min, onDecrement, onIncrement, step, ...props }: SpinButtonContainerProps) => {\r\n\tconst isFloat = step % 1 !== 0;\r\n\r\n\treturn (\r\n\t\t<SpinButton\r\n\t\t\tlabelPosition={Position.top}\r\n\t\t\tmin={step}\r\n\t\t\tonDecrement={(value) => {\r\n\t\t\t\tconst currentValue = isFloat ? parseFloat(value) : parseInt(value);\r\n\r\n\t\t\t\tconst newValue = currentValue - step;\r\n\t\t\t\tconst newValueFixed = isFloat ? newValue.toFixed(1) : newValue.toString();\r\n\r\n\t\t\t\tif (onDecrement) {\r\n\t\t\t\t\treturn onDecrement(newValueFixed);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn newValueFixed;\r\n\t\t\t}}\r\n\t\t\tonIncrement={(value) => {\r\n\t\t\t\tconst currentValue = isFloat ? parseFloat(value) : parseInt(value);\r\n\r\n\t\t\t\tconst newValue = currentValue + step;\r\n\t\t\t\tconst newValueFixed = isFloat ? newValue.toFixed(1) : newValue.toString();\r\n\r\n\t\t\t\tif (onIncrement) {\r\n\t\t\t\t\treturn onDecrement(newValueFixed);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn newValueFixed;\r\n\t\t\t}}\r\n\t\t\tstep={step}\r\n\t\t\t{...props}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nSpinButtonContainer.displayName = 'SpinButtonContainer';\r\n","export enum Status {\r\n\tInitial = 'initial',\r\n\tError = 'error',\r\n\tLoading = 'loading',\r\n\tSuccess = 'success',\r\n\tDownloading = 'downloading'\r\n}\r\n\r\nexport type FileState =\r\n\t| {\r\n\t\t\tstatus: Status.Initial;\r\n\t  }\r\n\t| {\r\n\t\t\tstatus: Status.Error;\r\n\t  }\r\n\t| {\r\n\t\t\tstatus: Status.Loading;\r\n\t  }\r\n\t| {\r\n\t\t\tstatus: Status.Success;\r\n\t\t\tfile: File;\r\n\t\t\tsrc: string;\r\n\t  }\r\n\t| {\r\n\t\t\tstatus: Status.Downloading;\r\n\t\t\tfile: File;\r\n\t\t\tsrc: string;\r\n\t  };\r\n\r\nexport type FormState = {\r\n\taspectRatioHeight: number;\r\n\taspectRatioWidth: number;\r\n\tchange?: 'crop' | 'input';\r\n\tformat?: string;\r\n\tid: string;\r\n\tlockAspectRatio: boolean;\r\n\tmaxWidth?: number;\r\n\toptimize: boolean;\r\n\ttext: string;\r\n};\r\n\r\nexport type Results = {\r\n\theight: number;\r\n\tsize: number;\r\n\twidth: number;\r\n};\r\n\r\nexport type ResultsRow = Results & {\r\n\tname: string;\r\n};\r\n","/** @jsxImportSource @emotion/react */\r\n\r\nimport { useTheme } from '@emotion/react';\r\nimport { IconButton, PrimaryButton } from '@fluentui/react/lib/Button';\r\nimport { Dropdown } from '@fluentui/react/lib/Dropdown';\r\nimport { Toggle } from '@fluentui/react/lib/Toggle';\r\nimport { TooltipHost } from '@fluentui/react/lib/Tooltip';\r\nimport { Dispatch, SetStateAction, useEffect, useState } from 'react';\r\n\r\nimport {\r\n\tDEFAULT_ASPECT_RATIO_HEIGHT,\r\n\tDEFAULT_ASPECT_RATIO_WIDTH,\r\n\tDEFAULT_ID,\r\n\tIMAGE_FORMAT_OPTIONS,\r\n\tPRESET_OPTIONS\r\n} from '../../constants';\r\nimport { CategorizedChoiceGroup } from './CategorizedChoiceGroup';\r\nimport { Fieldset } from './Fieldset';\r\nimport { FormState } from '../types';\r\nimport { SpinButtonContainer } from './SpinButtonContainer';\r\nimport { Spinner, SpinnerSize } from '@fluentui/react/lib/Spinner';\r\n\r\ntype ImageResizerFormProps = {\r\n\tisDownloading?: boolean;\r\n\timage?: HTMLImageElement;\r\n\tformState: FormState;\r\n\tonSubmit: () => any;\r\n\tsetFormState: Dispatch<SetStateAction<FormState>>;\r\n};\r\n\r\nexport const ImageResizerForm = ({\r\n\tisDownloading = false,\r\n\timage,\r\n\tformState,\r\n\tonSubmit,\r\n\tsetFormState\r\n}: ImageResizerFormProps) => {\r\n\tconst theme = useTheme();\r\n\r\n\tconst [accordionOpen, setAccordionOpen] = useState(formState.id === DEFAULT_ID ? 'Custom' : 'Presets');\r\n\r\n\tconst aspectRatioDisabled = false;\r\n\tconst aspectRatioHeightValue = isNaN(formState.aspectRatioHeight)\r\n\t\t? ''\r\n\t\t: formState.aspectRatioHeight?.toString() ?? '1';\r\n\tconst aspectRatioWidthValue = isNaN(formState.aspectRatioWidth) ? '' : formState.aspectRatioWidth?.toString() ?? '1';\r\n\r\n\t// Change URL to match form state.\r\n\tuseEffect(() => {\r\n\t\tconst params = new URLSearchParams();\r\n\r\n\t\tif (formState.id !== DEFAULT_ID) {\r\n\t\t\tparams.append('id', formState.id);\r\n\t\t} else {\r\n\t\t\tif (formState.aspectRatioHeight) {\r\n\t\t\t\tparams.append('ar-h', formState.aspectRatioHeight.toString());\r\n\t\t\t}\r\n\r\n\t\t\tif (formState.aspectRatioWidth) {\r\n\t\t\t\tparams.append('ar-w', formState.aspectRatioWidth.toString());\r\n\t\t\t}\r\n\r\n\t\t\tif (formState.lockAspectRatio) {\r\n\t\t\t\tparams.append('lock-aspect-ratio', formState.lockAspectRatio.toString());\r\n\t\t\t}\r\n\r\n\t\t\tif (formState.maxWidth) {\r\n\t\t\t\tparams.append('max-w', formState.maxWidth.toString());\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (formState.format) {\r\n\t\t\tparams.append('format', formState.format);\r\n\t\t}\r\n\r\n\t\tif (formState.optimize) {\r\n\t\t\tparams.append('optimize', formState.optimize.toString());\r\n\t\t}\r\n\r\n\t\tconst port = window.location.port ? `:${window.location.port}` : '';\r\n\t\tconst href = `${window.location.protocol}//${window.location.hostname}${port}/image-resizer?${params.toString()}`;\r\n\r\n\t\twindow.history.replaceState(null, null, href);\r\n\t}, [formState]);\r\n\r\n\treturn (\r\n\t\t<form\r\n\t\t\tonSubmit={(e) => {\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tonSubmit();\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<Fieldset legend=\"Custom\" isExpanded={accordionOpen === 'Custom'} onClick={() => setAccordionOpen('Custom')}>\r\n\t\t\t\t<div\r\n\t\t\t\t\tcss={{\r\n\t\t\t\t\t\tdisplay: 'grid',\r\n\t\t\t\t\t\tgridGap: theme.space[4],\r\n\t\t\t\t\t\tgridTemplateColumns: '105px 105px 1fr',\r\n\t\t\t\t\t\tmarginBottom: theme.space[3]\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<TooltipHost content=\"Units wide\">\r\n\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\taria-label=\"Aspect ratio units wide\"\r\n\t\t\t\t\t\t\tcss={{\r\n\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\tlineHeight: '32px'\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\tcss={{\r\n\t\t\t\t\t\t\t\t\tfontSize: theme.fontSizes[2],\r\n\t\t\t\t\t\t\t\t\tmarginRight: theme.space[2],\r\n\t\t\t\t\t\t\t\t\topacity: aspectRatioDisabled ? 0.5 : undefined\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\trole=\"presentation\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tw\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<SpinButtonContainer\r\n\t\t\t\t\t\t\t\tdisabled={isDownloading || aspectRatioDisabled}\r\n\t\t\t\t\t\t\t\tmax={Infinity}\r\n\t\t\t\t\t\t\t\tmin={0.1}\r\n\t\t\t\t\t\t\t\tonBlur={(e) => {\r\n\t\t\t\t\t\t\t\t\tconst value = e.currentTarget.value;\r\n\t\t\t\t\t\t\t\t\tlet aspectRatioWidth = parseFloat(parseFloat(value).toFixed(1));\r\n\r\n\t\t\t\t\t\t\t\t\tif (isNaN(aspectRatioWidth)) {\r\n\t\t\t\t\t\t\t\t\t\taspectRatioWidth = DEFAULT_ASPECT_RATIO_WIDTH;\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\tsetFormState((prevState) => ({ ...prevState, aspectRatioWidth, change: 'input', id: DEFAULT_ID }));\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tonDecrement={(value) => {\r\n\t\t\t\t\t\t\t\t\tsetFormState((prevState) => ({\r\n\t\t\t\t\t\t\t\t\t\t...prevState,\r\n\t\t\t\t\t\t\t\t\t\taspectRatioWidth: parseFloat(value),\r\n\t\t\t\t\t\t\t\t\t\tchange: 'input',\r\n\t\t\t\t\t\t\t\t\t\tid: DEFAULT_ID\r\n\t\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tonIncrement={(value) => {\r\n\t\t\t\t\t\t\t\t\tsetFormState((prevState) => ({\r\n\t\t\t\t\t\t\t\t\t\t...prevState,\r\n\t\t\t\t\t\t\t\t\t\taspectRatioWidth: parseFloat(value),\r\n\t\t\t\t\t\t\t\t\t\tchange: 'input',\r\n\t\t\t\t\t\t\t\t\t\tid: DEFAULT_ID\r\n\t\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tstep={1}\r\n\t\t\t\t\t\t\t\tvalue={aspectRatioWidthValue}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</TooltipHost>\r\n\r\n\t\t\t\t\t<TooltipHost content=\"Units high\">\r\n\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\taria-label=\"Aspect ratio units high\"\r\n\t\t\t\t\t\t\tcss={{\r\n\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\tlineHeight: '32px'\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\tcss={{\r\n\t\t\t\t\t\t\t\t\tfontSize: theme.fontSizes[2],\r\n\t\t\t\t\t\t\t\t\tmarginRight: theme.space[2],\r\n\t\t\t\t\t\t\t\t\topacity: aspectRatioDisabled ? 0.5 : undefined\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\trole=\"presentation\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\th\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<SpinButtonContainer\r\n\t\t\t\t\t\t\t\tdisabled={isDownloading || aspectRatioDisabled}\r\n\t\t\t\t\t\t\t\tmax={Infinity}\r\n\t\t\t\t\t\t\t\tonBlur={(e) => {\r\n\t\t\t\t\t\t\t\t\tconst value = e.currentTarget.value;\r\n\t\t\t\t\t\t\t\t\tlet aspectRatioHeight = parseFloat(parseFloat(value).toFixed(1));\r\n\r\n\t\t\t\t\t\t\t\t\tif (isNaN(aspectRatioHeight)) {\r\n\t\t\t\t\t\t\t\t\t\taspectRatioHeight = DEFAULT_ASPECT_RATIO_HEIGHT;\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\tsetFormState((prevState) => ({ ...prevState, change: 'input', aspectRatioHeight, id: DEFAULT_ID }));\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tonDecrement={(value) => {\r\n\t\t\t\t\t\t\t\t\tsetFormState((prevState) => ({\r\n\t\t\t\t\t\t\t\t\t\t...prevState,\r\n\t\t\t\t\t\t\t\t\t\taspectRatioHeight: parseFloat(value),\r\n\t\t\t\t\t\t\t\t\t\tchange: 'input',\r\n\t\t\t\t\t\t\t\t\t\tid: DEFAULT_ID\r\n\t\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tonIncrement={(value) => {\r\n\t\t\t\t\t\t\t\t\tsetFormState((prevState) => ({\r\n\t\t\t\t\t\t\t\t\t\t...prevState,\r\n\t\t\t\t\t\t\t\t\t\taspectRatioHeight: parseFloat(value),\r\n\t\t\t\t\t\t\t\t\t\tchange: 'input',\r\n\t\t\t\t\t\t\t\t\t\tid: DEFAULT_ID\r\n\t\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tstep={1}\r\n\t\t\t\t\t\t\t\tvalue={aspectRatioHeightValue}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</label>\r\n\t\t\t\t\t</TooltipHost>\r\n\r\n\t\t\t\t\t<TooltipHost content=\"Lock aspect ratio\">\r\n\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\tariaLabel=\"Toggle aspect ratio lock\"\r\n\t\t\t\t\t\t\tchecked={formState.lockAspectRatio}\r\n\t\t\t\t\t\t\ticonProps={{ iconName: formState.lockAspectRatio ? 'Lock' : 'Unlock' }}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsetFormState((prevState) => ({\r\n\t\t\t\t\t\t\t\t\t...prevState,\r\n\t\t\t\t\t\t\t\t\tid: DEFAULT_ID,\r\n\t\t\t\t\t\t\t\t\tlockAspectRatio: !prevState.lockAspectRatio\r\n\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</TooltipHost>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div\r\n\t\t\t\t\tcss={{\r\n\t\t\t\t\t\tdisplay: 'grid',\r\n\t\t\t\t\t\tgridGap: theme.space[4],\r\n\t\t\t\t\t\tgridTemplateColumns: '105px 1fr'\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<SpinButtonContainer\r\n\t\t\t\t\t\tdisabled={isDownloading}\r\n\t\t\t\t\t\tlabel={'Output width'}\r\n\t\t\t\t\t\tmax={formState.maxWidth}\r\n\t\t\t\t\t\tonBlur={(e) => {\r\n\t\t\t\t\t\t\tlet value = e.currentTarget.value;\r\n\r\n\t\t\t\t\t\t\tif (value === Infinity.toString()) {\r\n\t\t\t\t\t\t\t\tvalue = image?.naturalWidth.toString();\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tconst newMaxWidth = parseInt(value);\r\n\r\n\t\t\t\t\t\t\tsetFormState((prevState) => ({ ...prevState, id: DEFAULT_ID, maxWidth: newMaxWidth }));\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonDecrement={(value) => {\r\n\t\t\t\t\t\t\tif (value === Infinity.toString()) {\r\n\t\t\t\t\t\t\t\tvalue = image?.naturalWidth.toString();\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tconst newMaxWidth = parseInt(value);\r\n\r\n\t\t\t\t\t\t\tsetFormState((prevState) => ({ ...prevState, id: DEFAULT_ID, maxWidth: newMaxWidth }));\r\n\r\n\t\t\t\t\t\t\treturn `${newMaxWidth} px`;\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonIncrement={(value) => {\r\n\t\t\t\t\t\t\tif (value === Infinity.toString()) {\r\n\t\t\t\t\t\t\t\tvalue = image?.naturalWidth.toString();\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tconst newMaxWidth = parseInt(value);\r\n\r\n\t\t\t\t\t\t\tsetFormState((prevState) => ({ ...prevState, id: DEFAULT_ID, maxWidth: newMaxWidth }));\r\n\r\n\t\t\t\t\t\t\treturn `${newMaxWidth} px`;\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tstep={1}\r\n\t\t\t\t\t\tvalue={formState.maxWidth === Infinity || isNaN(formState.maxWidth) ? '' : `${formState.maxWidth} px`}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</Fieldset>\r\n\r\n\t\t\t<Fieldset legend=\"Presets\" isExpanded={accordionOpen === 'Presets'} onClick={() => setAccordionOpen('Presets')}>\r\n\t\t\t\t<CategorizedChoiceGroup\r\n\t\t\t\t\tname=\"presets\"\r\n\t\t\t\t\tonChange={(_e, option) => {\r\n\t\t\t\t\t\t// Set presets on top of previous state.\r\n\t\t\t\t\t\tsetFormState((prevState) => ({ ...prevState, ...option, change: 'input' }));\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tgroups={[\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: 'Common',\r\n\t\t\t\t\t\t\toptions: [PRESET_OPTIONS.OPENGRAPH, PRESET_OPTIONS.HD720, PRESET_OPTIONS.HD1080, PRESET_OPTIONS.UHD]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: 'Facebook',\r\n\t\t\t\t\t\t\toptions: [\r\n\t\t\t\t\t\t\t\tPRESET_OPTIONS.FACEBOOK_COVER_PHOTO,\r\n\t\t\t\t\t\t\t\tPRESET_OPTIONS.FACEBOOK_POST,\r\n\t\t\t\t\t\t\t\tPRESET_OPTIONS.FACEBOOK_SQUARE_POST\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: 'Instagram',\r\n\t\t\t\t\t\t\toptions: [\r\n\t\t\t\t\t\t\t\tPRESET_OPTIONS.INSTAGRAM_SQUARE_POST,\r\n\t\t\t\t\t\t\t\tPRESET_OPTIONS.INSTAGRAM_LANDSCAPE_POST,\r\n\t\t\t\t\t\t\t\tPRESET_OPTIONS.INSTAGRAM_PORTRAIT_POST,\r\n\t\t\t\t\t\t\t\tPRESET_OPTIONS.INSTAGRAM_STORY\r\n\t\t\t\t\t\t\t]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: 'LinkedIn',\r\n\t\t\t\t\t\t\toptions: [PRESET_OPTIONS.LINKEDIN_COVER_PHOTO, PRESET_OPTIONS.LINKEDIN_POST]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: 'Twitter',\r\n\t\t\t\t\t\t\toptions: [PRESET_OPTIONS.TWITTER_HEADER_PHOTO, PRESET_OPTIONS.TWITTER_POST]\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlabel: 'Microsoft 365',\r\n\t\t\t\t\t\t\toptions: [PRESET_OPTIONS.SHAREPOINT_TILE, PRESET_OPTIONS.SHAREPOINT_WIDE]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]}\r\n\t\t\t\t\tvalue={formState.id}\r\n\t\t\t\t/>\r\n\t\t\t</Fieldset>\r\n\r\n\t\t\t<Fieldset legend=\"Advanced\">\r\n\t\t\t\t<div\r\n\t\t\t\t\tcss={{\r\n\t\t\t\t\t\tdisplay: 'grid',\r\n\t\t\t\t\t\tgridGap: theme.space[3],\r\n\t\t\t\t\t\tgridTemplateColumns: '1fr'\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Dropdown\r\n\t\t\t\t\t\tdisabled={isDownloading}\r\n\t\t\t\t\t\tlabel=\"Image format\"\r\n\t\t\t\t\t\tselectedKey={formState.format}\r\n\t\t\t\t\t\toptions={IMAGE_FORMAT_OPTIONS}\r\n\t\t\t\t\t\tonChange={(_e, option) => {\r\n\t\t\t\t\t\t\tsetFormState((prevState) => ({ ...prevState, format: option.key.toString() }));\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<Toggle\r\n\t\t\t\t\t\tchecked={formState.optimize}\r\n\t\t\t\t\t\tdisabled={isDownloading || !IMAGE_FORMAT_OPTIONS.find((o) => o.key === formState.format)?.optimize}\r\n\t\t\t\t\t\tlabel=\"Optimize image\"\r\n\t\t\t\t\t\toffText=\"Off\"\r\n\t\t\t\t\t\tonChange={(_e, optimize) => {\r\n\t\t\t\t\t\t\tsetFormState((prevState) => ({\r\n\t\t\t\t\t\t\t\t...prevState,\r\n\t\t\t\t\t\t\t\toptimize\r\n\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonText=\"On\"\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t{/* <div>\r\n\t\t\t\t\t\t<FormStateAnchor formState={formState} />\r\n\t\t\t\t\t</div> */}\r\n\t\t\t\t</div>\r\n\t\t\t</Fieldset>\r\n\r\n\t\t\t<div\r\n\t\t\t\tcss={{\r\n\t\t\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\t\t\tborderRight: `1px solid ${theme.colors.neutralLight}`,\r\n\t\t\t\t\tborderTop: `1px solid ${theme.colors.neutralLight}`,\r\n\t\t\t\t\tbottom: 0,\r\n\t\t\t\t\tlabel: 'footer',\r\n\t\t\t\t\tleft: 0,\r\n\t\t\t\t\tpaddingBottom: theme.space[3],\r\n\t\t\t\t\tpaddingTop: theme.space[3],\r\n\t\t\t\t\tposition: 'fixed',\r\n\t\t\t\t\twidth: 320\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<div\r\n\t\t\t\t\tcss={{\r\n\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\tjustifyContent: 'center'\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<PrimaryButton\r\n\t\t\t\t\t\tdisabled={isDownloading || !image?.currentSrc}\r\n\t\t\t\t\t\ticonProps={{\r\n\t\t\t\t\t\t\ticonName: isDownloading ? undefined : 'Download'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{isDownloading && <Spinner size={SpinnerSize.xSmall} />}\r\n\r\n\t\t\t\t\t\t{/* Adding a <Spinner> above removes the label from the text below. */}\r\n\t\t\t\t\t\t<span css={{ fontWeight: theme.fontWeights.semibold, marginLeft: theme.space[2] }}>Download image</span>\r\n\t\t\t\t\t</PrimaryButton>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nImageResizerForm.displayName = 'ImageResizerForm';\r\n","import type { Crop } from 'react-image-crop';\r\n\r\nimport type { Results } from '../types';\r\n\r\nconst MIME_TYPE_MAP = {\r\n\tjpg: 'image/jpeg',\r\n\tpng: 'image/png',\r\n\twebp: 'image/webp'\r\n};\r\n\r\ntype DownloadImageOptions = {\r\n\tcrop: Crop;\r\n\tfileName: string;\r\n\tformat: string;\r\n\timage: HTMLImageElement;\r\n\tmaxWidth: number;\r\n\toptimize?: boolean;\r\n\tquality?: number;\r\n};\r\n\r\n/**\r\n * Draw an HTMLImageElement to a canvas, then download the created drawing.\r\n */\r\nexport async function downloadImage({\r\n\tcrop,\r\n\tfileName,\r\n\tformat,\r\n\timage,\r\n\tmaxWidth,\r\n\toptimize = false,\r\n\tquality = 0.85\r\n}: DownloadImageOptions): Promise<Results> {\r\n\tconst canvas = document.createElement('canvas');\r\n\tconst ctx = canvas.getContext('2d');\r\n\r\n\t// Determine the scale, since the HTMLImageElement may have been scaled down\r\n\t// if it was larger than the resizer area container.\r\n\tconst scaleX = image.naturalWidth / image.width;\r\n\tconst scaleY = image.naturalHeight / image.height;\r\n\r\n\t// Get the x-y coordinates. If no crop is available, then we'll be using the\r\n\t// entire canvas.\r\n\tconst cropX = (crop.x / 100) * image.width ?? 0;\r\n\tconst cropY = (crop.y / 100) * image.height ?? 0;\r\n\r\n\t// Get the crop width and height. If no crop is available, we'll be using the\r\n\t// entire canvas.\r\n\tconst cropWidth = (crop.width / 100) * image.width ?? image.width;\r\n\tconst cropHeight = (crop.height / 100) * image.height ?? image.height;\r\n\r\n\t// If the maximum image width is larger than the area that was selected, then\r\n\t// we need to resize the image down.\r\n\tconst shouldScale = maxWidth && maxWidth !== cropWidth * scaleX;\r\n\r\n\t// If we need to scale down, use the maximum width as our width. Otherwise\r\n\t// calculate the selected width.\r\n\tconst width = shouldScale ? maxWidth : Math.round(cropWidth * scaleX);\r\n\r\n\t// If we need to scale down, calculate the height based on the selected area\r\n\t// and the maximum width.\r\n\tconst height = shouldScale ? Math.round((width / cropWidth) * cropHeight) : Math.round(cropHeight * scaleY);\r\n\r\n\tcanvas.width = width;\r\n\tcanvas.height = height;\r\n\r\n\t// @see https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/drawImage\r\n\r\n\tconst sx = Math.round(cropX * scaleX);\r\n\tconst sy = Math.round(cropY * scaleY);\r\n\tconst sWidth = Math.round(cropWidth * scaleX);\r\n\tconst sHeight = Math.round(cropHeight * scaleY);\r\n\r\n\tctx.drawImage(image, sx, sy, sWidth, sHeight, 0, 0, width, height);\r\n\r\n\tconst fileNameWithoutExtension = fileName.split('.').slice(0, -1).join('.');\r\n\tconst newFileName = `${fileNameWithoutExtension}.${format}`;\r\n\r\n\tlet blob = await toBlob(canvas, MIME_TYPE_MAP[format], quality);\r\n\r\n\tif (optimize) {\r\n\t\tconst blobArrayBuffer = await blob.arrayBuffer();\r\n\t\tconst res = await optimizeImage(new Uint8Array(blobArrayBuffer), blob.type);\r\n\r\n\t\tblob = new Blob([res.data], { type: blob.type });\r\n\t}\r\n\r\n\tconst href = URL.createObjectURL(blob);\r\n\r\n\tdownloadHref(newFileName, href);\r\n\r\n\t// Return the output height, width and size for the results table.\r\n\treturn {\r\n\t\theight,\r\n\t\tsize: blob.size,\r\n\t\twidth\r\n\t};\r\n}\r\n\r\n/**\r\n * Convert the toBlob function to use a promise instead of a callback for async\r\n * and await usage.\r\n * @param canvas The canvas element to get a blob from.\r\n * @param type The mime type of the image format to retrieve.\r\n * @param quality A quality number from 0 - 1.\r\n */\r\nfunction toBlob(canvas: HTMLCanvasElement, type?: string, quality?: number): Promise<Blob> {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tcanvas.toBlob(\r\n\t\t\t(blob) => {\r\n\t\t\t\tif (blob === null) {\r\n\t\t\t\t\treject(`Blob cannot be null`);\r\n\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tresolve(blob);\r\n\t\t\t},\r\n\t\t\ttype,\r\n\t\t\tquality\r\n\t\t);\r\n\t});\r\n}\r\n\r\n/**\r\n * Download a blob by creating and clicking on a fake link.\r\n * @param filename Name of the file to be downloaded.\r\n * @param href A link to the file to download.\r\n */\r\nfunction downloadHref(filename: string, href: string) {\r\n\tconst a = document.createElement('a');\r\n\r\n\ta.download = filename;\r\n\ta.href = href;\r\n\r\n\tdocument.body.appendChild(a);\r\n\ta.click();\r\n\tdocument.body.removeChild(a);\r\n}\r\n\r\nasync function optimizeImage(data: Uint8Array, type: string): Promise<{ data: Uint8Array }> {\r\n\tif (type === 'image/png') {\r\n\t\tconst optipng = await import(/* webpackChunkName: \"optipng-js\" */ 'optipng-js');\r\n\r\n\t\treturn optipng.default(data, ['-o2']);\r\n\t} else if (type === 'image/jpeg') {\r\n\t\tconst { encode } = await import(/* webpackChunkName: \"mozjpeg-js\" */ 'mozjpeg-js');\r\n\r\n\t\treturn encode(data);\r\n\t}\r\n\r\n\treturn { data };\r\n}\r\n","/**\r\n * Converts a size in bytes to a more human-readable size.\r\n * @param size {number} A file size in bytes.\r\n */\r\nexport function getReadableSize(size: number) {\r\n\tconst sizes = [' Bytes', ' KB', ' MB', ' GB', ' TB', ' PB', ' EB', ' ZB', ' YB'];\r\n\r\n\tfor (let i = 1; i < sizes.length; i++) {\r\n\t\tif (size < Math.pow(1024, i)) {\r\n\t\t\treturn Math.round((size / Math.pow(1024, i - 1)) * 100) / 100 + sizes[i - 1];\r\n\t\t}\r\n\t}\r\n\r\n\treturn size;\r\n}\r\n","/** @jsxImportSource @emotion/react */\r\n\r\nimport { useTheme } from '@emotion/react';\r\nimport { ActionButton } from '@fluentui/react/lib/Button';\r\nimport { Spinner } from '@fluentui/react/lib/Spinner';\r\nimport React, { useCallback, useState, useRef } from 'react';\r\nimport type { Crop } from 'react-image-crop';\r\n\r\nimport { DEFAULT_FORMAT, DEFAULT_ID, PRESET_OPTIONS } from '../../constants';\r\nimport { DropzoneContainer } from './DropzoneContainer';\r\nimport { Footer } from './Footer';\r\nimport { Header } from './Header';\r\nimport { ImageResizerForm } from './ImageResizerForm';\r\nimport { FileState, Status, FormState } from '../types';\r\nimport { downloadImage } from '../utilities/download-image';\r\nimport { getReadableSize } from '../utilities/get-readable-size';\r\n\r\ntype ImageResizerProps = {\r\n\taspectRatioHeight?: string;\r\n\taspectRatioWidth?: string;\r\n\tformat?: string;\r\n\tid?: string;\r\n\tlockAspectRatio?: boolean;\r\n\tmaxWidth?: string;\r\n\toptimize?: boolean;\r\n};\r\n\r\nconst DEFAULT_FILE_STATE: FileState = { status: Status.Initial };\r\nconst SIDEBAR_WIDTH = 320;\r\n\r\nconst ImageCrop = React.lazy(() => import(/* webpackChunkName: \"ImageCrop\" */ './ImageCrop'));\r\n\r\n/**\r\n * Main image resizer component. Keeps state for the form, drop zone and crop\r\n * area.\r\n */\r\nexport const ImageResizer = (props: ImageResizerProps) => {\r\n\tconst theme = useTheme();\r\n\tconst imageRef = useRef<HTMLImageElement>();\r\n\r\n\tconst [crop, setCrop] = useState<Crop>({ unit: '%' });\r\n\tconst [fileState, setFileState] = useState<FileState>(DEFAULT_FILE_STATE);\r\n\r\n\tlet defaultFormState: FormState = {\r\n\t\taspectRatioHeight: parseFloat(props.aspectRatioHeight),\r\n\t\taspectRatioWidth: parseFloat(props.aspectRatioWidth),\r\n\t\tformat: props.format || DEFAULT_FORMAT,\r\n\t\tid: DEFAULT_ID,\r\n\t\toptimize: false,\r\n\t\tlockAspectRatio: props.lockAspectRatio || (!!props.aspectRatioHeight && !!props.aspectRatioWidth),\r\n\t\tmaxWidth: props.maxWidth ? parseInt(props.maxWidth) : undefined,\r\n\t\ttext: 'Custom'\r\n\t};\r\n\r\n\tif (props.id in PRESET_OPTIONS) {\r\n\t\tdefaultFormState = {\r\n\t\t\t...defaultFormState,\r\n\t\t\t...PRESET_OPTIONS[props.id],\r\n\t\t\toptimize: props.optimize\r\n\t\t};\r\n\t}\r\n\r\n\tconst [formState, setFormState] = useState<FormState>(defaultFormState);\r\n\r\n\t//#region CALLBACKS\r\n\r\n\t/**\r\n\t * Create a default crop for the current image using the form aspect ratio.\r\n\t * This involves determining the x and y coordinates and width and height of\r\n\t * the crop based on the form aspect ratio and current image.\r\n\t */\r\n\tconst setDefaultCrop = useCallback(() => {\r\n\t\tif (!imageRef.current) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst aspectRatio = formState.aspectRatioWidth / formState.aspectRatioHeight;\r\n\t\tconst image = imageRef.current;\r\n\r\n\t\tconst defaultCrop = {\r\n\t\t\tunit: '%',\r\n\t\t\tx: 0,\r\n\t\t\ty: 0\r\n\t\t} as const;\r\n\r\n\t\t// If there is no aspect ratio yet, assume we have a new image. Set the aspect\r\n\t\t// ratio form fields and add a default crop.\r\n\t\tif (isNaN(aspectRatio)) {\r\n\t\t\tsetFormState((prevState) => ({\r\n\t\t\t\t...prevState,\r\n\t\t\t\taspectRatioHeight: image.naturalHeight,\r\n\t\t\t\taspectRatioWidth: image.naturalWidth,\r\n\t\t\t\tlockAspectRatio: true,\r\n\t\t\t\tmaxWidth: image.naturalWidth\r\n\t\t\t}));\r\n\r\n\t\t\tsetCrop({\r\n\t\t\t\t...defaultCrop,\r\n\t\t\t\theight: 100,\r\n\t\t\t\twidth: 100\r\n\t\t\t});\r\n\t\t}\r\n\t\t// If the image is too wide for the aspect ratio, then the crop can be full\r\n\t\t// height and centered horizontally (x-axis).\r\n\t\telse if (image.width / aspectRatio > image.height) {\r\n\t\t\tconst width = (image.height / image.width) * aspectRatio * 100;\r\n\r\n\t\t\tsetCrop({\r\n\t\t\t\t...defaultCrop,\r\n\t\t\t\theight: 100,\r\n\t\t\t\twidth,\r\n\t\t\t\tx: (100 - width) / 2\r\n\t\t\t});\r\n\t\t}\r\n\t\t// If the image is too tall for the aspect ratio, then the crop can be full\r\n\t\t// width and centered vertically (y-axis).\r\n\t\telse {\r\n\t\t\tconst height = (image.width / image.height / aspectRatio) * 100;\r\n\r\n\t\t\tsetCrop({\r\n\t\t\t\t...defaultCrop,\r\n\t\t\t\theight,\r\n\t\t\t\twidth: 100,\r\n\t\t\t\ty: (100 - height) / 2\r\n\t\t\t});\r\n\t\t}\r\n\t}, [imageRef, formState.aspectRatioHeight, formState.aspectRatioWidth]);\r\n\r\n\t/**\r\n\t * When deselected, reset the crop state.\r\n\t */\r\n\tconst resetCrop = useCallback(() => {\r\n\t\t// If we have existing aspect ratio form values, keep the aspect ratio\r\n\t\t// locked.\r\n\t\tif (formState.aspectRatioHeight && formState.aspectRatioWidth) {\r\n\t\t\tsetCrop({ aspect: formState.aspectRatioWidth / formState.aspectRatioHeight, x: 0, y: 0 });\r\n\t\t}\r\n\t\t// Otherwise, remove the aspect ratio.\r\n\t\telse {\r\n\t\t\tsetCrop({});\r\n\t\t}\r\n\t}, [formState.aspectRatioHeight, formState.aspectRatioWidth]);\r\n\r\n\t/**\r\n\t * When files get successfully dropped onto the drop zone, or added by the\r\n\t * file picker, load them into our crop tool and set a default crop.\r\n\t */\r\n\tconst onDrop = useCallback(\r\n\t\t(files: File[]) => {\r\n\t\t\tconst file = files[0];\r\n\r\n\t\t\tsetFileState({\r\n\t\t\t\tstatus: Status.Success,\r\n\t\t\t\tfile,\r\n\t\t\t\tsrc: URL.createObjectURL(file)\r\n\t\t\t});\r\n\r\n\t\t\t// @todo: Once the file state above loads, several renders are required\r\n\t\t\t// before we can set a default crop. Need to determine a better way of\r\n\t\t\t// programmatically determining this, rather than using a timeout.\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tsetDefaultCrop();\r\n\t\t\t}, 250);\r\n\t\t},\r\n\t\t[setDefaultCrop]\r\n\t);\r\n\r\n\t/**\r\n\t * Reset the image, crop and dropzone when an image is removed.\r\n\t */\r\n\tconst resetImage = useCallback(() => {\r\n\t\tresetCrop();\r\n\t\tsetFileState(DEFAULT_FILE_STATE);\r\n\t}, [resetCrop]);\r\n\r\n\t/**\r\n\t * When the form is submitted or download button is clicked, generate a new\r\n\t * image.\r\n\t */\r\n\tconst onSubmit = useCallback(async () => {\r\n\t\t// Ignore this if there is no image available.\r\n\t\tif (imageRef.current === null || fileState === undefined) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Ignore this if we are currently handling the download of an image already.\r\n\t\tif (fileState.status !== Status.Success && fileState.status !== Status.Downloading) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsetFileState({ status: Status.Downloading, file: fileState.file, src: fileState.src });\r\n\r\n\t\t// Generate the image.\r\n\t\tconst results = await downloadImage({\r\n\t\t\tcrop,\r\n\t\t\tfileName: fileState.file.name,\r\n\t\t\tformat: formState.format,\r\n\t\t\timage: imageRef.current,\r\n\t\t\toptimize: formState.optimize,\r\n\t\t\tmaxWidth: formState.maxWidth\r\n\t\t});\r\n\r\n\t\t// Temporarily show stats within the console area.\r\n\t\tconsole.table([\r\n\t\t\t{\r\n\t\t\t\tname: 'Original',\r\n\t\t\t\twidth: imageRef.current.naturalWidth,\r\n\t\t\t\theight: imageRef.current.naturalHeight,\r\n\t\t\t\tsize: getReadableSize(fileState.file.size)\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tname: 'New',\r\n\t\t\t\twidth: results.width,\r\n\t\t\t\theight: results.height,\r\n\t\t\t\tsize: getReadableSize(results.size)\r\n\t\t\t}\r\n\t\t]);\r\n\r\n\t\tsetFileState({ status: Status.Success, file: fileState.file, src: fileState.src });\r\n\t}, [crop, fileState, formState, imageRef, setFileState]);\r\n\r\n\t//#endregion CALLBACKS\r\n\r\n\t//#region USEEFFECTS\r\n\r\n\t// Re-set the crop.\r\n\tReact.useEffect(() => {\r\n\t\tconsole.info(\r\n\t\t\t`[ImageResizer] The aspect ratio has changed to ${formState.aspectRatioWidth}:${formState.aspectRatioHeight}.`\r\n\t\t);\r\n\r\n\t\tif (formState.change === 'input' && formState.aspectRatioWidth && formState.aspectRatioHeight) {\r\n\t\t\tsetDefaultCrop();\r\n\t\t}\r\n\t}, [formState.aspectRatioHeight, formState.aspectRatioWidth, formState.change, setDefaultCrop]);\r\n\r\n\t//#endregion USEEFFECTS\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<div\r\n\t\t\t\tcss={{\r\n\t\t\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\t\t\tborderRight: `1px solid ${theme.colors.neutralLight}`,\r\n\t\t\t\t\tbottom: 64,\r\n\t\t\t\t\tlabel: 'sidebar',\r\n\t\t\t\t\tleft: 0,\r\n\t\t\t\t\toverflowX: 'hidden',\r\n\t\t\t\t\toverflowY: 'scroll',\r\n\t\t\t\t\tpaddingTop: theme.space[3],\r\n\t\t\t\t\tposition: 'fixed',\r\n\t\t\t\t\ttop: 0,\r\n\t\t\t\t\twidth: SIDEBAR_WIDTH\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Header />\r\n\r\n\t\t\t\t<ImageResizerForm\r\n\t\t\t\t\tisDownloading={fileState.status === Status.Downloading}\r\n\t\t\t\t\timage={imageRef.current}\r\n\t\t\t\t\tformState={formState}\r\n\t\t\t\t\tsetFormState={setFormState}\r\n\t\t\t\t\tonSubmit={onSubmit}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div\r\n\t\t\t\tcss={{\r\n\t\t\t\t\tbackgroundColor: theme.colors.neutralLighterAlt,\r\n\t\t\t\t\tdisplay: 'grid',\r\n\t\t\t\t\theight: '100%',\r\n\t\t\t\t\tgridTemplateRows: '1fr auto',\r\n\t\t\t\t\tlabel: 'center',\r\n\t\t\t\t\tpadding: theme.space[6],\r\n\t\t\t\t\tpaddingBottom: theme.space[5],\r\n\t\t\t\t\tpaddingLeft: SIDEBAR_WIDTH + theme.space[6]\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<div\r\n\t\t\t\t\tcss={{\r\n\t\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\tlabel: 'container',\r\n\t\t\t\t\t\tjustifyContent: 'center'\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{fileState.status === Status.Initial && <DropzoneContainer onDropAccepted={onDrop} />}\r\n\r\n\t\t\t\t\t{fileState.status === Status.Loading && <Spinner>Loading image...</Spinner>}\r\n\r\n\t\t\t\t\t{(fileState.status === Status.Success || fileState.status === Status.Downloading) && (\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tcss={{\r\n\t\t\t\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\tflexDirection: 'column',\r\n\t\t\t\t\t\t\t\tmaxWidth: imageRef?.current?.naturalWidth\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tcss={{\r\n\t\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\t\tjustifyContent: 'center'\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<ActionButton\r\n\t\t\t\t\t\t\t\t\tdisabled={isNaN(crop.height) || (crop.width === 0 && crop.height === 0)}\r\n\t\t\t\t\t\t\t\t\ticonProps={{\r\n\t\t\t\t\t\t\t\t\t\ticonName: 'ClearSelection'\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tonClick={resetCrop}\r\n\t\t\t\t\t\t\t\t\tstyles={{\r\n\t\t\t\t\t\t\t\t\t\troot: {\r\n\t\t\t\t\t\t\t\t\t\t\twhiteSpace: 'nowrap'\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\ticon: {\r\n\t\t\t\t\t\t\t\t\t\t\tcolor: theme.colors.themePrimary\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tDeselect crop\r\n\t\t\t\t\t\t\t\t</ActionButton>\r\n\r\n\t\t\t\t\t\t\t\t<ActionButton\r\n\t\t\t\t\t\t\t\t\tdisabled={fileState.status === Status.Downloading}\r\n\t\t\t\t\t\t\t\t\ticonProps={{\r\n\t\t\t\t\t\t\t\t\t\ticonName: 'RemoveFilter'\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tonClick={resetImage}\r\n\t\t\t\t\t\t\t\t\tstyles={{\r\n\t\t\t\t\t\t\t\t\t\troot: {\r\n\t\t\t\t\t\t\t\t\t\t\twhiteSpace: 'nowrap'\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\ticon: {\r\n\t\t\t\t\t\t\t\t\t\t\tcolor: theme.colors.themePrimary\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\tReplace image\r\n\t\t\t\t\t\t\t\t</ActionButton>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tcss={{\r\n\t\t\t\t\t\t\t\t\tboxShadow: theme.shadows.depth16,\r\n\t\t\t\t\t\t\t\t\tmaxHeight: 'calc(100% - 40px)',\r\n\t\t\t\t\t\t\t\t\tuserSelect: 'none'\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<React.Suspense fallback={<div />}>\r\n\t\t\t\t\t\t\t\t\t<ImageCrop\r\n\t\t\t\t\t\t\t\t\t\tcrop={{\r\n\t\t\t\t\t\t\t\t\t\t\t...crop,\r\n\t\t\t\t\t\t\t\t\t\t\taspect: formState.lockAspectRatio\r\n\t\t\t\t\t\t\t\t\t\t\t\t? formState.aspectRatioWidth / formState.aspectRatioHeight\r\n\t\t\t\t\t\t\t\t\t\t\t\t: null\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tdisabled={fileState.status === Status.Downloading}\r\n\t\t\t\t\t\t\t\t\t\tlocked={fileState.status === Status.Downloading}\r\n\t\t\t\t\t\t\t\t\t\tonComplete={(newCrop, percentageCrop) => {\r\n\t\t\t\t\t\t\t\t\t\t\t// If the crop completes with no width or height, we can assume that\r\n\t\t\t\t\t\t\t\t\t\t\t// the user clicked outside of the marquee.\r\n\t\t\t\t\t\t\t\t\t\t\tif (newCrop.width === 0 && newCrop.height === 0) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t// Force a reset, so no x/y values remain in the crop.\r\n\t\t\t\t\t\t\t\t\t\t\t\tresetCrop();\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetCrop(percentageCrop);\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetFormState((prevState) => ({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t...prevState,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tchange: 'crop',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\taspectRatioHeight: Math.round((percentageCrop.height * imageRef.current.naturalHeight) / 100),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\taspectRatioWidth: Math.round((percentageCrop.width * imageRef.current.naturalWidth) / 100)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}));\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tonImageLoaded={(image) => {\r\n\t\t\t\t\t\t\t\t\t\t\timageRef.current = image;\r\n\r\n\t\t\t\t\t\t\t\t\t\t\trequestAnimationFrame(setDefaultCrop);\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\truleOfThirds={true}\r\n\t\t\t\t\t\t\t\t\t\tsrc={fileState.src}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</React.Suspense>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<Footer />\r\n\t\t\t</div>\r\n\t\t</React.Fragment>\r\n\t);\r\n};\r\n\r\nImageResizer.displayName = 'ImageResizer';\r\n","/** @jsxImportSource @emotion/react */\r\n\r\nimport { ImageResizer } from './ImageResizer';\r\n\r\nexport const ImageResizerContainer = () => {\r\n\tconst urlParams = new URLSearchParams(window.location.search);\r\n\r\n\treturn (\r\n\t\t<ImageResizer\r\n\t\t\taspectRatioHeight={urlParams.get('ar-h')}\r\n\t\t\taspectRatioWidth={urlParams.get('ar-w')}\r\n\t\t\tformat={urlParams.get('format')}\r\n\t\t\tid={urlParams.get('id')}\r\n\t\t\tlockAspectRatio={urlParams.get('lock-aspect-ratio') === 'true'}\r\n\t\t\toptimize={urlParams.get('optimize') === 'true'}\r\n\t\t\tmaxWidth={urlParams.get('max-w')}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nImageResizerContainer.displayName = 'ImageResizerContainer';\r\n","/** @jsxImportSource @emotion/react */\r\n\r\nimport { Global, useTheme } from '@emotion/react';\r\nimport { registerIcons } from '@fluentui/react/lib/Styling';\r\n\r\nregisterIcons({\r\n\ticons: {\r\n\t\tChevronDownSmall: (\r\n\t\t\t<svg width=\"8\" height=\"6\" viewBox=\"0 0 8 6\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t\t<path\r\n\t\t\t\t\td=\"M7.02734 0.363281L7.97266 1.30469L4 5.27734L0.0273438 1.30469L0.972656 0.363281L4 3.39062L7.02734 0.363281Z\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t/>\r\n\t\t\t</svg>\r\n\t\t),\r\n\t\tChevronDown: (\r\n\t\t\t<svg width=\"12\" height=\"8\" viewBox=\"0 0 12 8\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t\t<path\r\n\t\t\t\t\td=\"M11.3613 0.736328L11.8887 1.26367L6 7.15234L0.111328 1.26367L0.638672 0.736328L6 6.09766L11.3613 0.736328Z\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t/>\r\n\t\t\t</svg>\r\n\t\t),\r\n\t\tChevronUpSmall: (\r\n\t\t\t<svg width=\"8\" height=\"6\" viewBox=\"0 0 8 6\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t\t<path\r\n\t\t\t\t\td=\"M4 0.722656L7.97266 4.69531L7.02734 5.63672L4 2.60938L0.972656 5.63672L0.0273438 4.69531L4 0.722656Z\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t/>\r\n\t\t\t</svg>\r\n\t\t),\r\n\t\tChevronUp: (\r\n\t\t\t<svg width=\"12\" height=\"7\" viewBox=\"0 0 12 7\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t\t<path\r\n\t\t\t\t\td=\"M11.4551 6.98242L6 1.5332L0.544922 6.98242L0.0175781 6.45508L6 0.466797L11.9824 6.45508L11.4551 6.98242Z\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t/>\r\n\t\t\t</svg>\r\n\t\t),\r\n\t\tClearSelection: (\r\n\t\t\t<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t\t<path\r\n\t\t\t\t\td=\"M13.3828 7C13.7422 7 14.0807 7.07031 14.3984 7.21094C14.7161 7.34635 14.9922 7.53385 15.2266 7.77344C15.4661 8.00781 15.6536 8.28646 15.7891 8.60938C15.9297 8.92708 16 9.26562 16 9.625C16 9.96875 15.9349 10.3021 15.8047 10.625C15.6745 10.9427 15.4844 11.2266 15.2344 11.4766L11.7266 14.9766L11.0234 14.2734L14.5234 10.7656C14.6745 10.6146 14.7917 10.4401 14.875 10.2422C14.9583 10.0443 15 9.83854 15 9.625C15 9.40104 14.9557 9.19271 14.8672 9C14.7839 8.80208 14.6667 8.63021 14.5156 8.48438C14.3698 8.33333 14.1979 8.21615 14 8.13281C13.8073 8.04427 13.599 8 13.375 8C13.1615 8 12.9557 8.04167 12.7578 8.125C12.5599 8.20833 12.3854 8.32552 12.2344 8.47656L10.7109 10H12V11H9V8H10V9.28906C10.2448 9.04427 10.487 8.78646 10.7266 8.51562C10.9661 8.24479 11.2188 7.9974 11.4844 7.77344C11.7552 7.54948 12.0443 7.36458 12.3516 7.21875C12.6589 7.07292 13.0026 7 13.3828 7ZM14 6H13V5H14V6ZM14 4H13V3H14V4ZM14 2H13V1H14V2ZM12 2H11V1H12V2ZM10 2H9V1H10V2ZM7 1H8V2H7V1ZM5 1H6V2H5V1ZM3 1H4V2H3V1ZM1 1H2V2H1V1ZM1 3H2V4H1V3ZM1 5H2V6H1V5ZM1 7H2V8H1V7ZM1 9H2V10H1V9ZM1 11H2V12H1V11ZM1 13H2V14H1V13ZM3 13H4V14H3V13ZM5 13H6V14H5V13ZM7 13H8V14H7V13ZM9 13H10V14H9V13Z\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t/>\r\n\t\t\t</svg>\r\n\t\t),\r\n\t\tDownload: (\r\n\t\t\t<svg width=\"11\" height=\"16\" viewBox=\"0 0 11 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t\t<path\r\n\t\t\t\t\td=\"M1 16V15H10V16H1ZM10.3516 8.35156L5.5 13.2422L0.648438 8.35156L1.35156 7.64844L5 11.3203V0H6V11.3203L9.64844 7.64844L10.3516 8.35156Z\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t/>\r\n\t\t\t</svg>\r\n\t\t),\r\n\t\tLock: (\r\n\t\t\t<svg width=\"12\" height=\"16\" viewBox=\"0 0 12 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t\t<path\r\n\t\t\t\t\td=\"M12 7V16H0V7H2V4.07812C2 3.51562 2.10156 2.98698 2.30469 2.49219C2.50781 1.9974 2.78906 1.5651 3.14844 1.19531C3.50781 0.825521 3.92969 0.533854 4.41406 0.320312C4.90365 0.106771 5.43229 0 6 0C6.56771 0 7.09375 0.106771 7.57812 0.320312C8.06771 0.533854 8.49219 0.825521 8.85156 1.19531C9.21094 1.5651 9.49219 1.9974 9.69531 2.49219C9.89844 2.98698 10 3.51562 10 4.07812V7H12ZM3 7H9V4.07812C9 3.65625 8.92448 3.26042 8.77344 2.89062C8.6224 2.51562 8.41146 2.1875 8.14062 1.90625C7.875 1.625 7.55729 1.40365 7.1875 1.24219C6.82292 1.08073 6.42708 1 6 1C5.57292 1 5.17448 1.08073 4.80469 1.24219C4.4401 1.40365 4.1224 1.625 3.85156 1.90625C3.58594 2.1875 3.3776 2.51562 3.22656 2.89062C3.07552 3.26042 3 3.65625 3 4.07812V7ZM11 8H1V15H11V8Z\"\r\n\t\t\t\t\tfill=\"#455560\"\r\n\t\t\t\t/>\r\n\t\t\t</svg>\r\n\t\t),\r\n\t\tRemoveFilter: (\r\n\t\t\t<svg width=\"13\" height=\"16\" viewBox=\"0 0 13 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t\t<path\r\n\t\t\t\t\td=\"M13 3H12V14.5C12 14.7083 11.9609 14.9036 11.8828 15.0859C11.8047 15.2682 11.6979 15.4271 11.5625 15.5625C11.4271 15.6979 11.2682 15.8047 11.0859 15.8828C10.9036 15.9609 10.7083 16 10.5 16H2.5C2.29167 16 2.09635 15.9609 1.91406 15.8828C1.73177 15.8047 1.57292 15.6979 1.4375 15.5625C1.30208 15.4271 1.19531 15.2682 1.11719 15.0859C1.03906 14.9036 1 14.7083 1 14.5V3H0V2H4V1C4 0.859375 4.02604 0.729167 4.07812 0.609375C4.13021 0.489583 4.20052 0.385417 4.28906 0.296875C4.38281 0.203125 4.48958 0.130208 4.60938 0.078125C4.72917 0.0260417 4.85938 0 5 0H8C8.14062 0 8.27083 0.0260417 8.39062 0.078125C8.51042 0.130208 8.61458 0.203125 8.70312 0.296875C8.79688 0.385417 8.86979 0.489583 8.92188 0.609375C8.97396 0.729167 9 0.859375 9 1V2H13V3ZM5 2H8V1H5V2ZM11 3H2V14.5C2 14.6354 2.04948 14.7526 2.14844 14.8516C2.2474 14.9505 2.36458 15 2.5 15H10.5C10.6354 15 10.7526 14.9505 10.8516 14.8516C10.9505 14.7526 11 14.6354 11 14.5V3ZM5 13H4V5H5V13ZM7 13H6V5H7V13ZM9 13H8V5H9V13Z\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t/>\r\n\t\t\t</svg>\r\n\t\t),\r\n\t\tUnlock: (\r\n\t\t\t<svg width=\"12\" height=\"16\" viewBox=\"0 0 12 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t\t<path\r\n\t\t\t\t\td=\"M12 7V16H0V7H9V4C9 3.57292 8.92188 3.17708 8.76562 2.8125C8.61458 2.44792 8.40365 2.13281 8.13281 1.86719C7.86719 1.59635 7.55208 1.38542 7.1875 1.23438C6.82292 1.07812 6.42708 1 6 1C5.57292 1 5.17708 1.07812 4.8125 1.23438C4.44792 1.38542 4.13021 1.59635 3.85938 1.86719C3.59375 2.13281 3.38281 2.44792 3.22656 2.8125C3.07552 3.17708 3 3.57292 3 4H2C2 3.43229 2.10156 2.90625 2.30469 2.42188C2.50781 1.93229 2.78906 1.50781 3.14844 1.14844C3.50781 0.789062 3.92969 0.507812 4.41406 0.304688C4.90365 0.101562 5.43229 0 6 0C6.56771 0 7.09375 0.101562 7.57812 0.304688C8.06771 0.507812 8.49219 0.789062 8.85156 1.14844C9.21094 1.50781 9.49219 1.93229 9.69531 2.42188C9.89844 2.90625 10 3.43229 10 4V7H12ZM11 8H1V15H11V8Z\"\r\n\t\t\t\t\tfill=\"#455560\"\r\n\t\t\t\t/>\r\n\t\t\t</svg>\r\n\t\t),\r\n\t\tUpload: (\r\n\t\t\t<svg width=\"27\" height=\"43\" viewBox=\"0 0 27 43\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t\t<path\r\n\t\t\t\t\td=\"M25.25 0V2.6875H1.0625V0H25.25ZM26.1948 20.5552L24.3052 22.4448L14.5 12.5767V43H11.8125V12.5767L2.00732 22.4448L0.117676 20.5552L13.1562 7.41162L26.1948 20.5552Z\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t/>\r\n\t\t\t</svg>\r\n\t\t)\r\n\t}\r\n});\r\n\r\nexport const GlobalStyles = () => {\r\n\tconst theme = useTheme();\r\n\r\n\tconst checkeredSize = 20;\r\n\r\n\treturn (\r\n\t\t<Global\r\n\t\t\tstyles={{\r\n\t\t\t\t'*': {\r\n\t\t\t\t\tboxSizing: 'border-box',\r\n\t\t\t\t\tmargin: 0,\r\n\t\t\t\t\tpadding: 0,\r\n\t\t\t\t\tWebkitFontSmoothing: 'antialiased'\r\n\t\t\t\t},\r\n\r\n\t\t\t\t'html, body, #root': {\r\n\t\t\t\t\theight: '100%'\r\n\t\t\t\t},\r\n\r\n\t\t\t\thtml: {\r\n\t\t\t\t\tcolor: theme.colors.bodyText,\r\n\t\t\t\t\tfontFamily: theme.fonts.body,\r\n\t\t\t\t\tfontSize: theme.fontSizes[3]\r\n\t\t\t\t},\r\n\r\n\t\t\t\tbody: {\r\n\t\t\t\t\tlineHeight: theme.lineHeights.body,\r\n\t\t\t\t\tmargin: 0\r\n\t\t\t\t},\r\n\r\n\t\t\t\t'.main': {\r\n\t\t\t\t\tmaxWidth: '48rem',\r\n\t\t\t\t\tmargin: '0 1rem',\r\n\r\n\t\t\t\t\t'@media (min-width: 48rem)': {\r\n\t\t\t\t\t\tmargin: '0 auto'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\r\n\t\t\t\tp: {\r\n\t\t\t\t\tmargin: '1rem 0'\r\n\t\t\t\t},\r\n\r\n\t\t\t\t'h1, h2, h3, h4, h5, h6': {\r\n\t\t\t\t\tlineHeight: theme.lineHeights.heading\r\n\t\t\t\t},\r\n\r\n\t\t\t\th1: {\r\n\t\t\t\t\tcolor: theme.colors.themePrimary,\r\n\t\t\t\t\tfontFamily: theme.fonts.body,\r\n\t\t\t\t\tfontSize: theme.fontSizes[8],\r\n\t\t\t\t\tfontWeight: 600,\r\n\t\t\t\t\tmargin: '1rem 0 2rem 0',\r\n\r\n\t\t\t\t\t'@media (min-width: 768px)': {\r\n\t\t\t\t\t\tfontSize: theme.fontSizes[9]\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\r\n\t\t\t\th2: {\r\n\t\t\t\t\tborderBottom: `1px solid ${theme.colors.neutralLight}`,\r\n\t\t\t\t\tcolor: theme.colors.neutralDark,\r\n\t\t\t\t\tfontFamily: theme.fonts.heading,\r\n\t\t\t\t\tfontSize: theme.fontSizes[5],\r\n\t\t\t\t\tfontWeight: 600,\r\n\t\t\t\t\tmargin: '2rem 0 1rem 0',\r\n\t\t\t\t\tpaddingBottom: theme.space[2],\r\n\r\n\t\t\t\t\t'@media (min-width: 768px)': {\r\n\t\t\t\t\t\tfontSize: theme.fontSizes[6],\r\n\t\t\t\t\t\tmargin: '3rem 0 2rem 0'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\r\n\t\t\t\th3: {\r\n\t\t\t\t\tcolor: theme.colors.neutralDark,\r\n\t\t\t\t\tfontFamily: theme.fonts.heading,\r\n\t\t\t\t\tfontSize: theme.fontSizes[5],\r\n\t\t\t\t\tfontWeight: 'normal',\r\n\t\t\t\t\tmargin: '1.25rem 0 1rem 0',\r\n\r\n\t\t\t\t\t'@media (min-width: 768px)': {\r\n\t\t\t\t\t\tfontSize: theme.fontSizes[6],\r\n\t\t\t\t\t\tmargin: '2.5rem 0 1rem 0'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\r\n\t\t\t\ta: {\r\n\t\t\t\t\tcolor: theme.colors.neutralPrimary,\r\n\t\t\t\t\tboxShadow: `inset 0 -1px 0 ${theme.colors.neutralLight}`,\r\n\t\t\t\t\ttextDecoration: `none`,\r\n\t\t\t\t\ttransition: `all 75ms ease-in`,\r\n\r\n\t\t\t\t\t'&, &:visited': {\r\n\t\t\t\t\t\tcolor: theme.colors.primaryText\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t'&:focus, &:hover': {\r\n\t\t\t\t\t\tboxShadow: `inset 0 -1px 0 ${theme.colors.neutralSecondary}`\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\r\n\t\t\t\thr: {\r\n\t\t\t\t\tbackgroundColor: theme.colors.neutralLight,\r\n\t\t\t\t\tborder: 0,\r\n\t\t\t\t\theight: 1,\r\n\t\t\t\t\tmargin: '1.5rem 0'\r\n\t\t\t\t},\r\n\r\n\t\t\t\t'ul:not([class])': {\r\n\t\t\t\t\tlistStyle: 'none',\r\n\t\t\t\t\tmargin: theme.space[3],\r\n\t\t\t\t\tmarginLeft: '3rem',\r\n\r\n\t\t\t\t\t'li ul': {\r\n\t\t\t\t\t\tmargin: '0 1rem 0 1.5rem'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\r\n\t\t\t\t'li:not([class])': {\r\n\t\t\t\t\tlineHeight: 1.2,\r\n\t\t\t\t\tmargin: '0.75rem 0',\r\n\t\t\t\t\tposition: 'relative',\r\n\r\n\t\t\t\t\t'&:before': {\r\n\t\t\t\t\t\tbackgroundColor: theme.colors.themePrimary,\r\n\t\t\t\t\t\tborderRadius: '50%',\r\n\t\t\t\t\t\tcontent: `\"\"`,\r\n\t\t\t\t\t\tdisplay: 'inline-block',\r\n\t\t\t\t\t\theight: 6,\r\n\t\t\t\t\t\tleft: -20,\r\n\t\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t\ttop: 6,\r\n\t\t\t\t\t\twidth: 6\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\r\n\t\t\t\ttable: {\r\n\t\t\t\t\tborderCollapse: 'collapse',\r\n\t\t\t\t\twidth: '100%',\r\n\r\n\t\t\t\t\t'tbody tr': {\r\n\t\t\t\t\t\t'&:nth-of-type(odd)': {\r\n\t\t\t\t\t\t\tbackgroundColor: theme.colors.neutralLighterAlt\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t'th, td': {\r\n\t\t\t\t\t\tfontSize: theme.fontSizes[1],\r\n\t\t\t\t\t\tpadding: theme.space[1],\r\n\t\t\t\t\t\ttextAlign: 'left',\r\n\r\n\t\t\t\t\t\t'@media (min-width: 768px)': {\r\n\t\t\t\t\t\t\tfontSize: theme.fontSizes[2],\r\n\t\t\t\t\t\t\tpadding: theme.space[2]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\r\n\t\t\t\timg: {\r\n\t\t\t\t\tmaxWidth: '100%'\r\n\t\t\t\t},\r\n\r\n\t\t\t\t'.ReactCrop': {\r\n\t\t\t\t\tdisplay: 'block !important',\r\n\t\t\t\t\tmaxHeight: '100%'\r\n\t\t\t\t},\r\n\r\n\t\t\t\t'.ReactCrop__image': {\r\n\t\t\t\t\tbackgroundImage: `linear-gradient(45deg, ${theme.colors.neutralLight} 25%, transparent 25%),\r\n\t\t\t\t\t\tlinear-gradient(45deg, transparent 75%, ${theme.colors.neutralLight} 75%),\r\n\t\t\t\t\t\tlinear-gradient(45deg, transparent 75%, ${theme.colors.neutralLight} 75%),\r\n\t\t\t\t\t\tlinear-gradient(45deg, ${theme.colors.neutralLight} 25%, transparent 25%)`,\r\n\t\t\t\t\tbackgroundSize: `${checkeredSize}px ${checkeredSize}px`,\r\n\t\t\t\t\tbackgroundPosition: `0 0,\r\n\t\t\t\t\t\t0 0,\r\n\t\t\t\t\t\t-${checkeredSize / 2}px -${checkeredSize / 2}px,\r\n\t\t\t\t\t\t${checkeredSize / 2}px ${checkeredSize / 2}px`,\r\n\t\t\t\t\tmaxHeight: 'calc(100vh - 120px)'\r\n\t\t\t\t}\r\n\t\t\t}}\r\n\t\t/>\r\n\t);\r\n};\r\n","/** @jsxImportSource @emotion/react */\r\n\r\nimport React from 'react';\r\n\r\nimport { ThemeProvider as EmotionThemeProvider } from '@emotion/react';\r\nimport { loadTheme } from '@fluentui/react/lib/Styling';\r\n\r\nimport theme from '../theme.json';\r\nimport { GlobalStyles } from './GlobalStyles';\r\n\r\n// Load Fluent UI theme colours\r\nloadTheme({\r\n\tdefaultFontStyle: {\r\n\t\tfontFamily: theme.fonts.body\r\n\t},\r\n\tpalette: theme.colors\r\n});\r\n\r\ntype ThemeProviderProps = {\r\n\tchildren?: React.ReactNode;\r\n};\r\n\r\nexport const ThemeProvider = ({ children }: ThemeProviderProps) => {\r\n\treturn (\r\n\t\t<EmotionThemeProvider theme={theme as any}>\r\n\t\t\t<GlobalStyles />\r\n\r\n\t\t\t{children}\r\n\t\t</EmotionThemeProvider>\r\n\t);\r\n};\r\n\r\nThemeProvider.displayName = 'ThemeProvider';\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n\twindow.location.hostname === 'localhost' ||\r\n\t\t// [::1] is the IPv6 localhost address.\r\n\t\twindow.location.hostname === '[::1]' ||\r\n\t\t// 127.0.0.0/8 are considered localhost for IPv4.\r\n\t\twindow.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\r\n);\r\n\r\nexport function register(config) {\r\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n\t\t// The URL constructor is available in all browsers that support SW.\r\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n\t\tif (publicUrl.origin !== window.location.origin) {\r\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\r\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\r\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\twindow.addEventListener('load', () => {\r\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n\t\t\tif (isLocalhost) {\r\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\r\n\t\t\t\tcheckValidServiceWorker(swUrl, config);\r\n\r\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\r\n\t\t\t\t// service worker/PWA documentation.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\r\n\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\r\n\t\t\t\t\t\t\t'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// Is not localhost. Just register service worker\r\n\t\t\t\tregisterValidSW(swUrl, config);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n\tnavigator.serviceWorker\r\n\t\t.register(swUrl)\r\n\t\t.then((registration) => {\r\n\t\t\tregistration.onupdatefound = () => {\r\n\t\t\t\tconst installingWorker = registration.installing;\r\n\t\t\t\tif (installingWorker == null) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tinstallingWorker.onstatechange = () => {\r\n\t\t\t\t\tif (installingWorker.state === 'installed') {\r\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\r\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\r\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\r\n\t\t\t\t\t\t\t// content until all client tabs are closed.\r\n\t\t\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\r\n\t\t\t\t\t\t\t\t\t'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\r\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// At this point, everything has been precached.\r\n\t\t\t\t\t\t\t// It's the perfect time to display a\r\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\r\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.');\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\r\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t};\r\n\t\t})\r\n\t\t.catch((error) => {\r\n\t\t\tconsole.error('Error during service worker registration:', error);\r\n\t\t});\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n\t// Check if the service worker can be found. If it can't reload the page.\r\n\tfetch(swUrl, {\r\n\t\theaders: { 'Service-Worker': 'script' }\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\r\n\t\t\tconst contentType = response.headers.get('content-type');\r\n\r\n\t\t\tif (response.status === 404 || (contentType != null && contentType.indexOf('javascript') === -1)) {\r\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\r\n\t\t\t\tnavigator.serviceWorker.ready.then((registration) => {\r\n\t\t\t\t\tregistration.unregister().then(() => {\r\n\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// Service worker found. Proceed as normal.\r\n\t\t\t\tregisterValidSW(swUrl, config);\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(() => {\r\n\t\t\tconsole.log('No internet connection found. App is running in offline mode.');\r\n\t\t});\r\n}\r\n\r\nexport function unregister() {\r\n\tif ('serviceWorker' in navigator) {\r\n\t\tnavigator.serviceWorker.ready\r\n\t\t\t.then((registration) => {\r\n\t\t\t\tregistration.unregister();\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.error(error.message);\r\n\t\t\t});\r\n\t}\r\n}\r\n","/** @jsxImportSource @emotion/react */\r\n\r\nimport { StrictMode } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport TagManager from 'react-gtm-module';\r\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\r\n\r\nimport { Documentation } from './Documentation';\r\nimport { ImageResizerContainer } from './ImageResizer';\r\nimport { ThemeProvider } from './Theme/components/ThemeProvider';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nif (process.env.REACT_APP_GOOGLE_TAG_MANAGER_CONTAINER_ID) {\r\n\tTagManager.initialize({\r\n\t\tgtmId: process.env.REACT_APP_GOOGLE_TAG_MANAGER_CONTAINER_ID\r\n\t});\r\n}\r\n\r\nReactDOM.render(\r\n\t<StrictMode>\r\n\t\t<ThemeProvider>\r\n\t\t\t<BrowserRouter>\r\n\t\t\t\t<Switch>\r\n\t\t\t\t\t<Route exact path=\"/image-resizer\">\r\n\t\t\t\t\t\t<ImageResizerContainer />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t<Route path=\"/image-resizer/documentation\">\r\n\t\t\t\t\t\t<Documentation />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t</Switch>\r\n\t\t\t</BrowserRouter>\r\n\t\t</ThemeProvider>\r\n\t</StrictMode>,\r\n\tdocument.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}