{"version":3,"sources":["Theme/use-theme.ts","Documentation/components/Documentation.tsx","constants.ts","ImageResizer/utilities/download-image.ts","ImageResizer/components/DropzonePlaceholder.tsx","ImageResizer/components/DropzoneContainer.tsx","ImageResizer/types.ts","ImageResizer/components/Footer.tsx","ImageResizer/logo.svg","ImageResizer/components/Header.tsx","ImageResizer/components/Fieldset.tsx","Shared/components/SpinButtonContainer.tsx","ImageResizer/components/ImageResizerForm.tsx","ImageResizer/components/ResultsTable.tsx","ImageResizer/utilities/get-readable-size.ts","ImageResizer/components/ImageResizer.tsx","ImageResizer/components/ImageResizerContainer.tsx","Theme/components/GlobalStyles.tsx","Theme/components/ThemeProvider.tsx","serviceWorker.ts","index.tsx"],"names":["useTheme","useEmotionTheme","Documentation","theme","css","marginLeft","marginRight","maxWidth","textAlign","to","marginTop","space","displayName","IMAGE_FORMAT_OPTIONS","key","text","MIME_TYPE_MAP","jpg","png","downloadImage","a","crop","fileName","format","image","quality","canvas","document","createElement","ctx","getContext","scaleX","naturalWidth","width","scaleY","naturalHeight","height","cropX","x","cropY","y","cropWidth","cropHeight","shouldScale","Math","round","sx","sy","sWidth","sHeight","drawImage","fileNameWithoutExtension","split","slice","join","newFileName","toBlob","blob","href","URL","createObjectURL","downloadHref","size","type","Promise","resolve","reject","filename","download","body","appendChild","click","removeChild","DropzonePlaceholder","Fragment","marginBottom","viewBox","fill","xmlns","d","fontSize","fontSizes","PrimaryButton","Status","DropzoneContainer","onDropAccepted","accept","multiple","getRootProps","getInputProps","isDragActive","alignItems","backgroundColor","colors","white","disabledBackground","border","borderColor","themePrimary","neutralDark","cursor","display","flexDirection","justifyContent","padding","Footer","children","rel","target","_extends","Object","assign","i","arguments","length","source","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","filter","cx","cy","r","_ref3","clipPath","_ref4","id","filterUnits","colorInterpolationFilters","floodOpacity","result","in","values","dy","stdDeviation","mode","in2","x1","y1","x2","y2","gradientUnits","stopColor","stopOpacity","offset","transform","_ref","svgRef","title","props","ref","ForwardRef","forwardRef","Header","paddingLeft","margin","Fieldset","paddingRight","Position","SpinButtonContainer","min","onDecrement","onIncrement","step","isFloat","SpinButton","labelPosition","top","value","newValue","parseFloat","parseInt","newValueFixed","toFixed","toString","ImageResizerForm","isDownloading","formState","onSubmit","setFormState","preventScalingUp","aspectRatioDisabled","lockAspectRatio","aspectRatioHeightValue","aspectRatioHeight","aspectRatioWidthValue","aspectRatioWidth","e","preventDefault","legend","gridGap","gridTemplateColumns","disabled","label","max","onBlur","currentTarget","Infinity","newMaxWidth","prevState","isNaN","Toggle","checked","offText","onChange","_e","undefined","onText","ChoiceGroup","selectedKey","options","option","Button","currentSrc","iconProps","iconName","onClick","ResultsTable","results","fontWeight","fontWeights","semibold","map","name","toLowerCase","replace","sizes","pow","getReadableSize","DEFAULT_FILE_STATE","status","Initial","ReactImageCrop","React","lazy","ImageResizer","hasDefaultAspectRatio","defaultAspectRatioHeight","defaultAspectRatioWidth","defaultAspectRatio","imageRef","useRef","useState","aspect","setCrop","fileState","setFileState","setResults","getAspectRatio","useCallback","setDefaultCrop","current","defaultCrop","unit","resetCrop","onDrop","files","file","Success","src","setTimeout","resetImage","Downloading","useEffect","console","info","borderRight","neutralLight","left","overflowY","paddingBottom","paddingTop","position","Spinner","neutralLighterAlt","Loading","ActionButton","styles","root","whiteSpace","icon","color","boxShadow","shadows","depth16","maxHeight","Suspense","fallback","locked","newCrop","requestAnimationFrame","onImageLoaded","ruleOfThirds","ImageResizerContainer","urlParams","URLSearchParams","window","location","search","get","registerIcons","icons","ChevronDownSmall","ChevronUpSmall","ClearSelection","Download","RemoveFilter","Upload","GlobalStyles","boxSizing","WebkitFontSmoothing","html","bodyText","fontFamily","fonts","lineHeight","lineHeights","p","heading","h1","h2","borderBottom","h3","neutralPrimary","textDecoration","transition","primaryText","neutralSecondary","hr","listStyle","borderRadius","content","table","borderCollapse","img","backgroundImage","backgroundSize","backgroundPosition","checkeredSize","loadTheme","defaultFontStyle","palette","ThemeProvider","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","log","onUpdate","onSuccess","catch","error","ReactDOM","render","StrictMode","exact","path","getElementById","process","origin","addEventListener","fetch","headers","response","contentType","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.7b3c3e5f.chunk.js","sourcesContent":["import { useTheme as useEmotionTheme } from 'emotion-theming';\r\n\r\nimport { ITheme } from './ITheme';\r\n\r\nexport const useTheme = <T = ITheme>() => {\r\n\treturn useEmotionTheme<T>();\r\n};\r\n","/** @jsx jsx  */\r\n\r\nimport { jsx } from '@emotion/core';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { useTheme } from 'Theme/use-theme';\r\n\r\nexport const Documentation = () => {\r\n\tconst theme = useTheme();\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tcss={{\r\n\t\t\t\tmarginLeft: 'auto',\r\n\t\t\t\tmarginRight: 'auto',\r\n\t\t\t\tmaxWidth: '50rem'\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<p\r\n\t\t\t\tcss={{\r\n\t\t\t\t\ttextAlign: 'center'\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Link to=\"/image-resizer\">Return to resizer</Link>\r\n\t\t\t</p>\r\n\r\n\t\t\t<h1\r\n\t\t\t\tcss={{\r\n\t\t\t\t\tmarginTop: theme.space[7]\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\tDocumentation\r\n\t\t\t</h1>\r\n\r\n\t\t\t<p>\r\n\t\t\t\tThis app resizes images to a specific maximum width and aspect ratio. It is to help content authors generate\r\n\t\t\t\tcorrectly sized images when their authoring tools may not support image editing. Links to this app can be\r\n\t\t\t\tgenerated with special query strings that fill out the various form options.\r\n\t\t\t</p>\r\n\r\n\t\t\t<h2>Query string options</h2>\r\n\r\n\t\t\t<ul>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<b>max-w</b> <code>[number]</code>: Sets the maximum width of the image.\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<b>ar-w</b> <code>[number]</code>: Sets the aspect ratio width.\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<b>ar-h</b> <code>[number]</code>: Sets the aspect ratio height.\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\t<b>format</b> <code>['jpg'|'png']</code>: Sets the format of the image.\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nDocumentation.displayName = 'Documentation';\r\n","export const DEFAULT_ASPECT_RATIO_HEIGHT = 1;\r\nexport const DEFAULT_ASPECT_RATIO_WIDTH = 1;\r\nexport const DEFAULT_FORMAT = 'jpg';\r\nexport const DEFAULT_MAX_WIDTH = 1000;\r\nexport const IMAGE_FORMAT_OPTIONS = [\r\n\t{\r\n\t\tkey: 'jpg',\r\n\t\ttext: 'JPG (photography)'\r\n\t},\r\n\t{\r\n\t\tkey: 'png',\r\n\t\ttext: 'PNG (illustrations or text)'\r\n\t}\r\n];\r\n","import type { Crop } from 'react-image-crop';\r\n\r\nimport type { Results } from '../types';\r\n\r\nconst MIME_TYPE_MAP = {\r\n\tjpg: 'image/jpeg',\r\n\tpng: 'image/png'\r\n};\r\n\r\ntype DownloadImageOptions = {\r\n\tcrop: Crop;\r\n\tfileName: string;\r\n\tformat: string;\r\n\timage: HTMLImageElement;\r\n\tmaxWidth: number;\r\n\tquality?: number;\r\n};\r\n\r\n/**\r\n * Draw an HTMLImageElement to a canvas, then download the created drawing.\r\n */\r\nexport async function downloadImage({\r\n\tcrop,\r\n\tfileName,\r\n\tformat,\r\n\timage,\r\n\tmaxWidth,\r\n\tquality = 0.85\r\n}: DownloadImageOptions): Promise<Results> {\r\n\tconst canvas = document.createElement('canvas');\r\n\tconst ctx = canvas.getContext('2d');\r\n\r\n\t// Determine the scale, since the HTMLImageElement may have been scaled down\r\n\t// if it was larger than the resizer area container.\r\n\tconst scaleX = image.naturalWidth / image.width;\r\n\tconst scaleY = image.naturalHeight / image.height;\r\n\r\n\t// Get the x-y coordinates. If no crop is available, then we'll be using the\r\n\t// entire canvas.\r\n\tconst cropX = crop.x ? crop.x : 0;\r\n\tconst cropY = crop.y ? crop.y : 0;\r\n\r\n\t// Get the crop width and height. If no crop is available, we'll be using the\r\n\t// entire canvas.\r\n\tconst cropWidth = crop.width ? crop.width : image.width;\r\n\tconst cropHeight = crop.height ? crop.height : image.height;\r\n\r\n\t// If the maximum image width is larger than the area that was selected, then\r\n\t// we need to resize the image down.\r\n\tconst shouldScale = maxWidth && maxWidth !== cropWidth * scaleX;\r\n\r\n\t// If we need to scale down, use the maximum width as our width. Otherwise\r\n\t// calculate the selected width.\r\n\tconst width = shouldScale ? maxWidth : Math.round(cropWidth * scaleX);\r\n\r\n\t// If we need to scale down, calculate the height based on the selected area\r\n\t// and the maximum width.\r\n\tconst height = shouldScale ? Math.round((width / cropWidth) * cropHeight) : Math.round(cropHeight * scaleY);\r\n\r\n\tcanvas.width = width;\r\n\tcanvas.height = height;\r\n\r\n\t// @see https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/drawImage\r\n\r\n\tconst sx = Math.round(cropX * scaleX);\r\n\tconst sy = Math.round(cropY * scaleY);\r\n\tconst sWidth = Math.round(cropWidth * scaleX);\r\n\tconst sHeight = Math.round(cropHeight * scaleY);\r\n\r\n\tctx.drawImage(image, sx, sy, sWidth, sHeight, 0, 0, width, height);\r\n\r\n\tconst fileNameWithoutExtension = fileName.split('.').slice(0, -1).join('.');\r\n\tconst newFileName = `${fileNameWithoutExtension}.${format}`;\r\n\r\n\tconst blob = await toBlob(canvas, MIME_TYPE_MAP[format], quality);\r\n\tconst href = URL.createObjectURL(blob);\r\n\r\n\tdownloadHref(newFileName, href);\r\n\r\n\t// Return the output height, width and size for the results table.\r\n\treturn {\r\n\t\theight,\r\n\t\tsize: blob.size,\r\n\t\twidth\r\n\t};\r\n}\r\n\r\n/**\r\n * Convert the toBlob function to use a promise instead of a callback for async\r\n * and await usage.\r\n * @param canvas The canvas element to get a blob from.\r\n * @param type The mime type of the image format to retrieve.\r\n * @param quality A quality number from 0 - 1.\r\n */\r\nfunction toBlob(canvas: HTMLCanvasElement, type?: string, quality?: number): Promise<Blob> {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tcanvas.toBlob(\r\n\t\t\t(blob) => {\r\n\t\t\t\tif (blob === null) {\r\n\t\t\t\t\treject(`Blob cannot be null`);\r\n\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tresolve(blob);\r\n\t\t\t},\r\n\t\t\ttype,\r\n\t\t\tquality\r\n\t\t);\r\n\t});\r\n}\r\n\r\n/**\r\n * Download a blob by creating and clicking on a fake link.\r\n * @param filename Name of the file to be downloaded.\r\n * @param href A link to the file to download.\r\n */\r\nfunction downloadHref(filename: string, href: string) {\r\n\tconst a = document.createElement('a');\r\n\r\n\ta.download = filename;\r\n\ta.href = href;\r\n\r\n\tdocument.body.appendChild(a);\r\n\ta.click();\r\n\tdocument.body.removeChild(a);\r\n}\r\n","/** @jsx jsx */\r\n\r\nimport { jsx } from '@emotion/core';\r\nimport React from 'react';\r\n\r\nimport { PrimaryButton } from '@fluentui/react/lib/Button';\r\n\r\nimport { useTheme } from '../../Theme/use-theme';\r\n\r\n/**\r\n * Content to be shown before the dropzone area is being used. Not shown when\r\n * the dropzone is active (i.e. when a user is dragging a file).\r\n */\r\nexport const DropzonePlaceholder = () => {\r\n\tconst theme = useTheme();\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<svg\r\n\t\t\t\tcss={{\r\n\t\t\t\t\tmarginBottom: theme.space[2]\r\n\t\t\t\t}}\r\n\t\t\t\twidth=\"27\"\r\n\t\t\t\theight=\"43\"\r\n\t\t\t\tviewBox=\"0 0 27 43\"\r\n\t\t\t\tfill=\"none\"\r\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t>\r\n\t\t\t\t<path\r\n\t\t\t\t\td=\"M25.25 0V2.6875H1.0625V0H25.25ZM26.1948 20.5552L24.3052 22.4448L14.5 12.5767V43H11.8125V12.5767L2.00732 22.4448L0.117676 20.5552L13.1562 7.41162L26.1948 20.5552Z\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t/>\r\n\t\t\t</svg>\r\n\r\n\t\t\t<div\r\n\t\t\t\tcss={{\r\n\t\t\t\t\tfontSize: theme.fontSizes[5],\r\n\t\t\t\t\tmarginBottom: theme.space[2]\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\tDrag a photo here\r\n\t\t\t</div>\r\n\t\t\t<div\r\n\t\t\t\tcss={{\r\n\t\t\t\t\tfontSize: theme.fontSizes[5],\r\n\t\t\t\t\tmarginBottom: theme.space[2]\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\tor\r\n\t\t\t</div>\r\n\r\n\t\t\t<PrimaryButton>Select one from your device</PrimaryButton>\r\n\t\t</React.Fragment>\r\n\t);\r\n};\r\n\r\nDropzonePlaceholder.displayName = 'DropzonePlaceholder';\r\n","/** @jsx jsx */\r\n\r\nimport { jsx } from '@emotion/core';\r\n\r\nimport Dropzone, { DropzoneOptions } from 'react-dropzone';\r\n\r\nimport { useTheme } from 'Theme/use-theme';\r\nimport { DropzonePlaceholder } from './DropzonePlaceholder';\r\n\r\ntype DropzoneContainerProps = Pick<DropzoneOptions, 'onDropAccepted'>;\r\n\r\n/**\r\n * Displays the dashed bordered area where files can be dragged into. A button\r\n * can also be clicked on to pop up the file picker.\r\n */\r\nexport const DropzoneContainer = ({ onDropAccepted }: DropzoneContainerProps) => {\r\n\tconst theme = useTheme();\r\n\r\n\treturn (\r\n\t\t<Dropzone accept=\".bmp,.gif,.jpeg,.jpg,.png,.tiff\" multiple={false} onDropAccepted={onDropAccepted}>\r\n\t\t\t{({ getRootProps, getInputProps, isDragActive }) => (\r\n\t\t\t\t<div\r\n\t\t\t\t\tcss={{\r\n\t\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\t\tbackgroundColor: isDragActive ? theme.colors.white : theme.colors.disabledBackground,\r\n\t\t\t\t\t\tborder: `1px dashed`,\r\n\t\t\t\t\t\tborderColor: isDragActive ? theme.colors.themePrimary : theme.colors.neutralDark,\r\n\t\t\t\t\t\tcursor: 'pointer',\r\n\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\tflexDirection: 'column',\r\n\t\t\t\t\t\tjustifyContent: 'center',\r\n\t\t\t\t\t\theight: '100%',\r\n\t\t\t\t\t\tpadding: theme.space[4],\r\n\t\t\t\t\t\ttextAlign: 'center',\r\n\t\t\t\t\t\twidth: '100%'\r\n\t\t\t\t\t}}\r\n\t\t\t\t\t{...getRootProps()}\r\n\t\t\t\t>\r\n\t\t\t\t\t<input {...getInputProps()} />\r\n\r\n\t\t\t\t\t{isDragActive ? <p>Drop the file here...</p> : <DropzonePlaceholder />}\r\n\t\t\t\t</div>\r\n\t\t\t)}\r\n\t\t</Dropzone>\r\n\t);\r\n};\r\n\r\nDropzoneContainer.displayName = 'DropzoneContainer';\r\n","export enum Status {\r\n\tInitial = 'initial',\r\n\tError = 'error',\r\n\tLoading = 'loading',\r\n\tSuccess = 'success',\r\n\tDownloading = 'downloading'\r\n}\r\n\r\nexport type FileState =\r\n\t| {\r\n\t\t\tstatus: Status.Initial;\r\n\t  }\r\n\t| {\r\n\t\t\tstatus: Status.Error;\r\n\t  }\r\n\t| {\r\n\t\t\tstatus: Status.Loading;\r\n\t  }\r\n\t| {\r\n\t\t\tstatus: Status.Success;\r\n\t\t\tfile: File;\r\n\t\t\tsrc: string;\r\n\t  }\r\n\t| {\r\n\t\t\tstatus: Status.Downloading;\r\n\t\t\tfile: File;\r\n\t\t\tsrc: string;\r\n\t  };\r\n\r\nexport type FormState = {\r\n\taspectRatioHeight: number;\r\n\taspectRatioWidth: number;\r\n\tcrop: boolean;\r\n\tformat: string;\r\n\tlockAspectRatio: boolean;\r\n\tmaxWidth?: number;\r\n\tpreventScalingUp: boolean;\r\n};\r\n\r\nexport type Results = {\r\n\theight: number;\r\n\tsize: number;\r\n\twidth: number;\r\n};\r\n\r\nexport type ResultsRow = Results & {\r\n\tname: string;\r\n};\r\n","/** @jsx jsx */\r\n\r\nimport { jsx } from '@emotion/core';\r\nimport React from 'react';\r\n\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { useTheme } from 'Theme/use-theme';\r\n\r\ntype FooterProps = {\r\n\tchildren?: React.ReactNode;\r\n};\r\n\r\n/**\r\n * Basic footer content.\r\n */\r\nexport const Footer = ({ children }: FooterProps) => {\r\n\tconst theme = useTheme();\r\n\r\n\treturn (\r\n\t\t<footer\r\n\t\t\tcss={{\r\n\t\t\t\ttextAlign: 'center'\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{children}\r\n\r\n\t\t\t<p\r\n\t\t\t\tcss={{\r\n\t\t\t\t\tfontSize: theme.fontSizes[2]\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\tMade by\r\n\t\t\t\t<br />\r\n\t\t\t\t<a href=\"https://www.habaneroconsulting.com\" rel=\"noopener noreferrer\" target=\"_blank\">\r\n\t\t\t\t\tHabanero Consulting Group\r\n\t\t\t\t</a>\r\n\t\t\t</p>\r\n\r\n\t\t\t<p\r\n\t\t\t\tcss={{\r\n\t\t\t\t\tfontSize: theme.fontSizes[2]\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Link to=\"/image-resizer/documentation\">Documentation</Link>\r\n\t\t\t</p>\r\n\t\t</footer>\r\n\t);\r\n};\r\n\r\nFooter.displayName = 'Footer';\r\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  filter: \"url(#filter0_dd)\"\n}, /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 36,\n  cy: 34,\n  r: 32,\n  fill: \"#F6E8EA\"\n}), /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 36,\n  cy: 34,\n  r: 32,\n  fill: \"url(#paint0_linear)\"\n}));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  clipPath: \"url(#clip0)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M52.2623 36.0984H54.3607V48.6885H20.7869V19.3115H50.1639V27.7049H52.2623V36.0984ZM22.8852 46.5902H31.2787V27.7049H48.0656V21.4098H22.8852V46.5902ZM33.377 46.5902H41.7705V36.0984H50.1639V29.8033H33.377V46.5902ZM52.2623 46.5902V38.1967H43.8689V46.5902H52.2623Z\",\n  fill: \"#A71930\"\n}));\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"filter\", {\n  id: \"filter0_dd\",\n  x: 0.4,\n  y: 1.19209e-7,\n  width: 71.2,\n  height: 71.2,\n  filterUnits: \"userSpaceOnUse\",\n  colorInterpolationFilters: \"sRGB\"\n}, /*#__PURE__*/React.createElement(\"feFlood\", {\n  floodOpacity: 0,\n  result: \"BackgroundImageFix\"\n}), /*#__PURE__*/React.createElement(\"feColorMatrix\", {\n  in: \"SourceAlpha\",\n  type: \"matrix\",\n  values: \"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n}), /*#__PURE__*/React.createElement(\"feOffset\", {\n  dy: 0.3\n}), /*#__PURE__*/React.createElement(\"feGaussianBlur\", {\n  stdDeviation: 0.45\n}), /*#__PURE__*/React.createElement(\"feColorMatrix\", {\n  type: \"matrix\",\n  values: \"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.108 0\"\n}), /*#__PURE__*/React.createElement(\"feBlend\", {\n  mode: \"normal\",\n  in2: \"BackgroundImageFix\",\n  result: \"effect1_dropShadow\"\n}), /*#__PURE__*/React.createElement(\"feColorMatrix\", {\n  in: \"SourceAlpha\",\n  type: \"matrix\",\n  values: \"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0\"\n}), /*#__PURE__*/React.createElement(\"feOffset\", {\n  dy: 1.6\n}), /*#__PURE__*/React.createElement(\"feGaussianBlur\", {\n  stdDeviation: 1.8\n}), /*#__PURE__*/React.createElement(\"feColorMatrix\", {\n  type: \"matrix\",\n  values: \"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.132 0\"\n}), /*#__PURE__*/React.createElement(\"feBlend\", {\n  mode: \"normal\",\n  in2: \"effect1_dropShadow\",\n  result: \"effect2_dropShadow\"\n}), /*#__PURE__*/React.createElement(\"feBlend\", {\n  mode: \"normal\",\n  in: \"SourceGraphic\",\n  in2: \"effect2_dropShadow\",\n  result: \"shape\"\n})), /*#__PURE__*/React.createElement(\"linearGradient\", {\n  id: \"paint0_linear\",\n  x1: 36,\n  y1: 2,\n  x2: 36,\n  y2: 66,\n  gradientUnits: \"userSpaceOnUse\"\n}, /*#__PURE__*/React.createElement(\"stop\", {\n  stopColor: \"white\",\n  stopOpacity: 0.2\n}), /*#__PURE__*/React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"white\",\n  stopOpacity: 0\n})), /*#__PURE__*/React.createElement(\"clipPath\", {\n  id: \"clip0\"\n}, /*#__PURE__*/React.createElement(\"rect\", {\n  width: 33.5738,\n  height: 33.5738,\n  fill: \"white\",\n  transform: \"translate(20.7869 17.2131)\"\n})));\n\nvar SvgLogo = function SvgLogo(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 72,\n    height: 72,\n    viewBox: \"0 0 72 72\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgLogo, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/logo.e6039fc6.svg\";\nexport { ForwardRef as ReactComponent };","/** @jsx jsx */\r\n\r\nimport { jsx } from '@emotion/core';\r\nimport React from 'react';\r\n\r\nimport { useTheme } from 'Theme/use-theme';\r\n\r\nimport { ReactComponent as LogoSvg } from '../logo.svg';\r\n\r\ntype HeaderProps = {\r\n\tchildren?: React.ReactNode;\r\n};\r\n\r\n/**\r\n * Basic header content.\r\n */\r\nexport const Header = ({ children }: HeaderProps) => {\r\n\tconst theme = useTheme();\r\n\r\n\treturn (\r\n\t\t<header\r\n\t\t\tcss={{\r\n\t\t\t\talignItems: 'center',\r\n\t\t\t\tdisplay: 'flex',\r\n\t\t\t\tmarginBottom: theme.space[3],\r\n\t\t\t\tpaddingLeft: theme.space[3]\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<LogoSvg />\r\n\r\n\t\t\t<h1\r\n\t\t\t\tcss={{\r\n\t\t\t\t\tfontSize: theme.fontSizes[4],\r\n\t\t\t\t\tmargin: 0,\r\n\t\t\t\t\tmarginLeft: theme.space[3]\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\tImage resizer\r\n\t\t\t</h1>\r\n\r\n\t\t\t{children}\r\n\t\t</header>\r\n\t);\r\n};\r\n\r\nHeader.displayName = 'Logo';\r\n","/** @jsx jsx  */\r\n\r\nimport { jsx } from '@emotion/core';\r\n\r\nimport { useTheme } from 'Theme/use-theme';\r\n\r\ntype FieldsetProps = React.DetailedHTMLProps<React.FieldsetHTMLAttributes<HTMLFieldSetElement>, HTMLFieldSetElement> & {\r\n\tlegend?: string;\r\n};\r\n\r\n/**\r\n * Common styles for fieldsets.\r\n */\r\nexport const Fieldset = ({ children }: FieldsetProps) => {\r\n\tconst theme = useTheme();\r\n\r\n\treturn (\r\n\t\t<fieldset\r\n\t\t\tcss={{\r\n\t\t\t\tborder: 0,\r\n\t\t\t\tpaddingLeft: theme.space[3],\r\n\t\t\t\tpaddingRight: theme.space[3]\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</fieldset>\r\n\t);\r\n};\r\n\r\nFieldset.displayName = 'Fieldset';\r\n","/** @jsx jsx */\r\n\r\nimport { jsx } from '@emotion/core';\r\n\r\nimport { SpinButton, ISpinButtonProps } from '@fluentui/react/lib/SpinButton';\r\n\r\ntype SpinButtonContainerProps = ISpinButtonProps;\r\n\r\n// Taken from:\r\n// import { Position } from 'office-ui-fabric-react/lib/utilities/positioning';\r\nenum Position {\r\n\ttop = 0,\r\n\tbottom = 1,\r\n\tstart = 2,\r\n\tend = 3\r\n}\r\n\r\nexport const SpinButtonContainer = ({ min, onDecrement, onIncrement, step, ...props }: SpinButtonContainerProps) => {\r\n\tconst isFloat = step % 1 !== 0;\r\n\r\n\treturn (\r\n\t\t<SpinButton\r\n\t\t\tlabelPosition={Position.top}\r\n\t\t\tmin={step}\r\n\t\t\tonDecrement={(value) => {\r\n\t\t\t\tconst currentValue = isFloat ? parseFloat(value) : parseInt(value);\r\n\r\n\t\t\t\tconst newValue = currentValue - step;\r\n\t\t\t\tconst newValueFixed = isFloat ? newValue.toFixed(1) : newValue.toString();\r\n\r\n\t\t\t\tif (onDecrement) {\r\n\t\t\t\t\treturn onDecrement(newValueFixed);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn newValueFixed;\r\n\t\t\t}}\r\n\t\t\tonIncrement={(value) => {\r\n\t\t\t\tconst currentValue = isFloat ? parseFloat(value) : parseInt(value);\r\n\r\n\t\t\t\tconst newValue = currentValue + step;\r\n\t\t\t\tconst newValueFixed = isFloat ? newValue.toFixed(1) : newValue.toString();\r\n\r\n\t\t\t\tif (onIncrement) {\r\n\t\t\t\t\treturn onDecrement(newValueFixed);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn newValueFixed;\r\n\t\t\t}}\r\n\t\t\tstep={step}\r\n\t\t\t{...props}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nSpinButtonContainer.displayName = 'SpinButtonContainer';\r\n","/** @jsx jsx  */\r\n\r\nimport { jsx } from '@emotion/core';\r\nimport React from 'react';\r\n\r\nimport { Button } from '@fluentui/react/lib/Button';\r\nimport { ChoiceGroup } from '@fluentui/react/lib/ChoiceGroup';\r\nimport { Toggle } from '@fluentui/react/lib/Toggle';\r\n\r\nimport {\r\n\tDEFAULT_ASPECT_RATIO_HEIGHT,\r\n\tDEFAULT_ASPECT_RATIO_WIDTH,\r\n\tDEFAULT_MAX_WIDTH,\r\n\tIMAGE_FORMAT_OPTIONS\r\n} from '../../constants';\r\nimport { Fieldset } from './Fieldset';\r\nimport { FormState } from '../types';\r\nimport { SpinButtonContainer } from '../../Shared/components/SpinButtonContainer';\r\nimport { useTheme } from '../../Theme/use-theme';\r\n\r\ntype ImageResizerFormProps = {\r\n\tisDownloading?: boolean;\r\n\timage?: HTMLImageElement;\r\n\tformState: FormState;\r\n\tonSubmit: () => any;\r\n\tsetFormState: React.Dispatch<React.SetStateAction<FormState>>;\r\n};\r\n\r\nexport const ImageResizerForm = ({\r\n\tisDownloading = false,\r\n\timage,\r\n\tformState,\r\n\tonSubmit,\r\n\tsetFormState\r\n}: ImageResizerFormProps) => {\r\n\tconst theme = useTheme();\r\n\r\n\t// If prevent scaling up is on, then the maximum width should not be larger\r\n\t// than the image's natural width, so take the smaller number of the default\r\n\t// form state width or the natural width.\r\n\t// If no image is available yet, default to the form state width.\r\n\tlet maxWidth = formState.maxWidth;\r\n\r\n\tif (formState.preventScalingUp) {\r\n\t\tif (formState.maxWidth && image?.naturalWidth) {\r\n\t\t\tmaxWidth = Math.min(formState.maxWidth, image.naturalWidth);\r\n\t\t} else if (image?.naturalWidth) {\r\n\t\t\tmaxWidth = image.naturalWidth;\r\n\t\t}\r\n\t}\r\n\r\n\tconst aspectRatioDisabled = !formState.crop || !formState.lockAspectRatio;\r\n\tconst aspectRatioHeightValue = aspectRatioDisabled ? '' : formState.aspectRatioHeight?.toString() ?? '1';\r\n\tconst aspectRatioWidthValue = aspectRatioDisabled ? '' : formState.aspectRatioWidth?.toString() ?? '1';\r\n\r\n\treturn (\r\n\t\t<form\r\n\t\t\tonSubmit={(e) => {\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\tonSubmit();\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<div>\r\n\t\t\t\t<Fieldset legend=\"Size\">\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tcss={{\r\n\t\t\t\t\t\t\tdisplay: 'grid',\r\n\t\t\t\t\t\t\tgridGap: theme.space[3],\r\n\t\t\t\t\t\t\tgridTemplateColumns: '1fr 1fr'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<SpinButtonContainer\r\n\t\t\t\t\t\t\tdisabled={isDownloading}\r\n\t\t\t\t\t\t\tlabel={'Width'}\r\n\t\t\t\t\t\t\tmax={maxWidth}\r\n\t\t\t\t\t\t\tonBlur={(e) => {\r\n\t\t\t\t\t\t\t\tlet value = e.currentTarget.value;\r\n\r\n\t\t\t\t\t\t\t\tif (value === Infinity.toString()) {\r\n\t\t\t\t\t\t\t\t\tvalue = image?.naturalWidth.toString() ?? DEFAULT_MAX_WIDTH.toString();\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tconst newMaxWidth = parseInt(value);\r\n\r\n\t\t\t\t\t\t\t\tsetFormState((prevState) => ({ ...prevState, maxWidth: newMaxWidth }));\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonDecrement={(value) => {\r\n\t\t\t\t\t\t\t\tif (value === Infinity.toString()) {\r\n\t\t\t\t\t\t\t\t\tvalue = image?.naturalWidth.toString() ?? DEFAULT_MAX_WIDTH.toString();\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tconst newMaxWidth = parseInt(value);\r\n\r\n\t\t\t\t\t\t\t\tsetFormState((prevState) => ({ ...prevState, maxWidth: newMaxWidth }));\r\n\r\n\t\t\t\t\t\t\t\treturn `${newMaxWidth} px`;\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonIncrement={(value) => {\r\n\t\t\t\t\t\t\t\tif (value === Infinity.toString()) {\r\n\t\t\t\t\t\t\t\t\tvalue = image?.naturalWidth.toString() ?? DEFAULT_MAX_WIDTH.toString();\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tconst newMaxWidth = parseInt(value);\r\n\r\n\t\t\t\t\t\t\t\tsetFormState((prevState) => ({ ...prevState, maxWidth: newMaxWidth }));\r\n\r\n\t\t\t\t\t\t\t\treturn `${newMaxWidth} px`;\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tstep={1}\r\n\t\t\t\t\t\t\tvalue={maxWidth === Infinity || isNaN(maxWidth) ? '' : `${maxWidth} px`}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<Toggle\r\n\t\t\t\t\t\t\tchecked={formState.preventScalingUp}\r\n\t\t\t\t\t\t\tdisabled={isDownloading}\r\n\t\t\t\t\t\t\tlabel=\"Prevent scaling up?\"\r\n\t\t\t\t\t\t\toffText=\"Off\"\r\n\t\t\t\t\t\t\tonChange={(_e, preventScalingUp) =>\r\n\t\t\t\t\t\t\t\tsetFormState((prevState) => ({\r\n\t\t\t\t\t\t\t\t\t...prevState,\r\n\t\t\t\t\t\t\t\t\tmaxWidth: preventScalingUp ? image?.naturalWidth ?? undefined : maxWidth,\r\n\t\t\t\t\t\t\t\t\tpreventScalingUp\r\n\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tonText=\"On\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Fieldset>\r\n\r\n\t\t\t\t<hr />\r\n\r\n\t\t\t\t<Fieldset legend=\"Cropping\">\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tcss={{\r\n\t\t\t\t\t\t\tdisplay: 'grid',\r\n\t\t\t\t\t\t\tgridGap: theme.space[3],\r\n\t\t\t\t\t\t\tgridTemplateColumns: '1fr 1fr'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Toggle\r\n\t\t\t\t\t\t\tchecked={formState.crop}\r\n\t\t\t\t\t\t\tdisabled={isDownloading}\r\n\t\t\t\t\t\t\tlabel=\"Crop?\"\r\n\t\t\t\t\t\t\toffText=\"Off\"\r\n\t\t\t\t\t\t\tonChange={(_e, crop) => setFormState((prevState) => ({ ...prevState, crop }))}\r\n\t\t\t\t\t\t\tonText=\"On\"\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<Toggle\r\n\t\t\t\t\t\t\tchecked={formState.lockAspectRatio}\r\n\t\t\t\t\t\t\tdisabled={isDownloading || !formState.crop}\r\n\t\t\t\t\t\t\tlabel=\"Lock aspect ratio?\"\r\n\t\t\t\t\t\t\toffText=\"Off\"\r\n\t\t\t\t\t\t\tonChange={(_e, lockAspectRatio) =>\r\n\t\t\t\t\t\t\t\tsetFormState((prevState) => ({\r\n\t\t\t\t\t\t\t\t\t...prevState,\r\n\t\t\t\t\t\t\t\t\taspectRatioHeight: prevState.aspectRatioHeight ?? 1,\r\n\t\t\t\t\t\t\t\t\taspectRatioWidth: prevState.aspectRatioWidth ?? 1,\r\n\t\t\t\t\t\t\t\t\tlockAspectRatio\r\n\t\t\t\t\t\t\t\t}))\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tonText=\"On\"\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<SpinButtonContainer\r\n\t\t\t\t\t\t\tdisabled={isDownloading || aspectRatioDisabled}\r\n\t\t\t\t\t\t\tlabel={'Ratio width'}\r\n\t\t\t\t\t\t\tmax={Infinity}\r\n\t\t\t\t\t\t\tmin={0.1}\r\n\t\t\t\t\t\t\tonBlur={(e) => {\r\n\t\t\t\t\t\t\t\tconst value = e.currentTarget.value;\r\n\t\t\t\t\t\t\t\tlet aspectRatioWidth = parseFloat(parseFloat(value).toFixed(1));\r\n\r\n\t\t\t\t\t\t\t\tif (isNaN(aspectRatioWidth)) {\r\n\t\t\t\t\t\t\t\t\taspectRatioWidth = DEFAULT_ASPECT_RATIO_WIDTH;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tsetFormState((prevState) => ({ ...prevState, aspectRatioWidth }));\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonDecrement={(value) => {\r\n\t\t\t\t\t\t\t\tsetFormState((prevState) => ({ ...prevState, aspectRatioWidth: parseFloat(value) }));\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonIncrement={(value) => {\r\n\t\t\t\t\t\t\t\tsetFormState((prevState) => ({ ...prevState, aspectRatioWidth: parseFloat(value) }));\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tstep={0.1}\r\n\t\t\t\t\t\t\tvalue={aspectRatioWidthValue}\r\n\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t<SpinButtonContainer\r\n\t\t\t\t\t\t\tdisabled={isDownloading || aspectRatioDisabled}\r\n\t\t\t\t\t\t\tlabel={'Ratio height'}\r\n\t\t\t\t\t\t\tmax={Infinity}\r\n\t\t\t\t\t\t\tonBlur={(e) => {\r\n\t\t\t\t\t\t\t\tconst value = e.currentTarget.value;\r\n\t\t\t\t\t\t\t\tlet aspectRatioHeight = parseFloat(parseFloat(value).toFixed(1));\r\n\r\n\t\t\t\t\t\t\t\tif (isNaN(aspectRatioHeight)) {\r\n\t\t\t\t\t\t\t\t\taspectRatioHeight = DEFAULT_ASPECT_RATIO_HEIGHT;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tsetFormState((prevState) => ({ ...prevState, aspectRatioHeight }));\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonDecrement={(value) => {\r\n\t\t\t\t\t\t\t\tsetFormState((prevState) => ({ ...prevState, aspectRatioHeight: parseFloat(value) }));\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonIncrement={(value) => {\r\n\t\t\t\t\t\t\t\tsetFormState((prevState) => ({ ...prevState, aspectRatioHeight: parseFloat(value) }));\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tstep={0.1}\r\n\t\t\t\t\t\t\tvalue={aspectRatioHeightValue}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Fieldset>\r\n\r\n\t\t\t\t<hr />\r\n\r\n\t\t\t\t<Fieldset legend=\"Image format\">\r\n\t\t\t\t\t<ChoiceGroup\r\n\t\t\t\t\t\tdisabled={isDownloading}\r\n\t\t\t\t\t\tlabel=\"Image format\"\r\n\t\t\t\t\t\tselectedKey={formState.format}\r\n\t\t\t\t\t\toptions={IMAGE_FORMAT_OPTIONS}\r\n\t\t\t\t\t\tonChange={(_e, option) => {\r\n\t\t\t\t\t\t\tconst format = option.key;\r\n\r\n\t\t\t\t\t\t\tsetFormState((prevState) => ({ ...prevState, format }));\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Fieldset>\r\n\r\n\t\t\t\t<hr />\r\n\r\n\t\t\t\t<Fieldset>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tcss={{\r\n\t\t\t\t\t\t\twidth: '100%'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tdisabled={isDownloading || !image?.currentSrc}\r\n\t\t\t\t\t\ticonProps={{\r\n\t\t\t\t\t\t\ticonName: 'Download'\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\tonClick={onSubmit}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tDownload resized image\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Fieldset>\r\n\t\t\t</div>\r\n\t\t</form>\r\n\t);\r\n};\r\n\r\nImageResizerForm.displayName = 'ImageResizerForm';\r\n","/** @jsx jsx  */\r\n\r\nimport { jsx } from '@emotion/core';\r\n\r\nimport { getReadableSize } from '../utilities/get-readable-size';\r\nimport { useTheme } from 'Theme/use-theme';\r\n\r\nimport type { ResultsRow } from '../types';\r\n\r\ntype ResultsTableProps = {\r\n\tresults: ResultsRow[];\r\n};\r\n\r\nexport const ResultsTable = ({ results }: ResultsTableProps) => {\r\n\tconst theme = useTheme();\r\n\r\n\treturn (\r\n\t\t<div\r\n\t\t\tcss={{\r\n\t\t\t\tpadding: theme.space[3]\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t<table\r\n\t\t\t\tcss={{\r\n\t\t\t\t\tmaxWidth: 720\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<caption\r\n\t\t\t\t\tcss={{\r\n\t\t\t\t\t\tfontSize: theme.fontSizes[3],\r\n\t\t\t\t\t\tfontWeight: theme.fontWeights.semibold,\r\n\t\t\t\t\t\tmarginBottom: theme.space[2]\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tResults\r\n\t\t\t\t</caption>\r\n\t\t\t\t<thead>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th>File</th>\r\n\t\t\t\t\t\t<th css={{ textAlign: 'right' }}>Width</th>\r\n\t\t\t\t\t\t<th css={{ textAlign: 'right' }}>Height</th>\r\n\t\t\t\t\t\t<th css={{ textAlign: 'right' }}>Size</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</thead>\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t{results.map(({ name, width, height, size }) => (\r\n\t\t\t\t\t\t<tr key={`results-table-row-${name.toLowerCase().replace(' ', '-')}-key`}>\r\n\t\t\t\t\t\t\t<td>{name}</td>\r\n\t\t\t\t\t\t\t<td css={{ textAlign: 'right' }}>{width} px</td>\r\n\t\t\t\t\t\t\t<td css={{ textAlign: 'right' }}>{height} px</td>\r\n\t\t\t\t\t\t\t<td css={{ textAlign: 'right' }}>{getReadableSize(size)}</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nResultsTable.displayName = 'ResultsTable';\r\n","/**\r\n * Converts a size in bytes to a more human-readable size.\r\n * @param size {number} A file size in bytes.\r\n */\r\nexport function getReadableSize(size: number) {\r\n\tconst sizes = [' Bytes', ' KB', ' MB', ' GB', ' TB', ' PB', ' EB', ' ZB', ' YB'];\r\n\r\n\tfor (let i = 1; i < sizes.length; i++) {\r\n\t\tif (size < Math.pow(1024, i)) {\r\n\t\t\treturn Math.round((size / Math.pow(1024, i - 1)) * 100) / 100 + sizes[i - 1];\r\n\t\t}\r\n\t}\r\n\r\n\treturn size;\r\n}\r\n","/** @jsx jsx  */\r\n\r\nimport { jsx } from '@emotion/core';\r\nimport React, { useCallback, useState, useRef } from 'react';\r\n\r\nimport type { Crop } from 'react-image-crop';\r\nimport { ActionButton } from '@fluentui/react/lib/Button';\r\nimport { Spinner } from '@fluentui/react/lib/Spinner';\r\n\r\nimport { DEFAULT_FORMAT } from '../../constants';\r\nimport { downloadImage } from '../utilities/download-image';\r\nimport { DropzoneContainer } from './DropzoneContainer';\r\nimport { FileState, Status, Results, FormState } from '../types';\r\nimport { Footer } from './Footer';\r\nimport { Header } from './Header';\r\nimport { ImageResizerForm } from './ImageResizerForm';\r\nimport { ResultsTable } from './ResultsTable';\r\nimport { useTheme } from 'Theme/use-theme';\r\n\r\ntype ImageResizerProps = {\r\n\taspectRatioHeight?: string;\r\n\taspectRatioWidth?: string;\r\n\tformat?: string;\r\n\tmaxWidth?: string;\r\n\tmaxHeight?: string;\r\n};\r\n\r\nconst DEFAULT_FILE_STATE: FileState = { status: Status.Initial };\r\nconst SIDEBAR_WIDTH = 320;\r\n\r\nconst ReactImageCrop = React.lazy(() => import(/* webpackChunkName: \"ReactImageCrop\" */ './ReactImageCrop'));\r\n\r\n/**\r\n * Main image resizer component. Keeps state for the form, drop zone and crop\r\n * area.\r\n */\r\nexport const ImageResizer = (props: ImageResizerProps) => {\r\n\tconst hasDefaultAspectRatio = !!props.aspectRatioHeight && !!props.aspectRatioWidth;\r\n\tconst defaultAspectRatioHeight = parseFloat(props.aspectRatioHeight);\r\n\tconst defaultAspectRatioWidth = parseFloat(props.aspectRatioWidth);\r\n\tconst defaultAspectRatio = hasDefaultAspectRatio ? defaultAspectRatioWidth / defaultAspectRatioHeight : undefined;\r\n\r\n\tconst theme = useTheme();\r\n\tconst imageRef = useRef<HTMLImageElement>();\r\n\r\n\tconst [crop, setCrop] = useState<Crop>({ aspect: defaultAspectRatio });\r\n\tconst [fileState, setFileState] = useState<FileState>(DEFAULT_FILE_STATE);\r\n\tconst [formState, setFormState] = useState<FormState>({\r\n\t\taspectRatioHeight: hasDefaultAspectRatio ? defaultAspectRatioHeight : null,\r\n\t\taspectRatioWidth: hasDefaultAspectRatio ? defaultAspectRatioWidth : null,\r\n\t\tcrop: true,\r\n\t\tlockAspectRatio: hasDefaultAspectRatio,\r\n\t\tformat: props.format || DEFAULT_FORMAT,\r\n\t\tmaxWidth: props.maxWidth ? parseInt(props.maxWidth) : undefined,\r\n\t\tpreventScalingUp: true\r\n\t});\r\n\tconst [results, setResults] = useState<Results>();\r\n\r\n\t//#region CALLBACKS\r\n\r\n\t/**\r\n\t * Return the current aspect ratio of the form to create a crop object.\r\n\t */\r\n\tconst getAspectRatio = useCallback(() => {\r\n\t\treturn formState.aspectRatioWidth / formState.aspectRatioHeight;\r\n\t}, [formState.aspectRatioWidth, formState.aspectRatioHeight]);\r\n\r\n\t/**\r\n\t * Create a default crop for the current image using the form aspect ratio.\r\n\t * This involves determining the x and y coordinates and width and height of\r\n\t * the crop based on the form aspect ratio and current image.\r\n\t */\r\n\tconst setDefaultCrop = useCallback(() => {\r\n\t\tif (!imageRef.current) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst aspect = getAspectRatio();\r\n\t\tconst image = imageRef.current;\r\n\r\n\t\tconst defaultCrop = {\r\n\t\t\taspect,\r\n\t\t\tunit: 'px',\r\n\t\t\tx: 0,\r\n\t\t\ty: 0\r\n\t\t} as const;\r\n\r\n\t\t// If the image is too wide for the aspect ratio, then the crop can be full\r\n\t\t// height and centered horizontally (x-axis).\r\n\t\tif (image.width / aspect > image.height) {\r\n\t\t\tsetCrop({\r\n\t\t\t\t...defaultCrop,\r\n\t\t\t\theight: image.height,\r\n\t\t\t\twidth: image.height * aspect,\r\n\t\t\t\tx: (image.width - image.height * aspect) / 2\r\n\t\t\t});\r\n\t\t}\r\n\t\t// If the image is too tall for the aspect ratio, then the crop can be full\r\n\t\t// width and centered vertically (y-axis).\r\n\t\telse {\r\n\t\t\tsetCrop({\r\n\t\t\t\t...defaultCrop,\r\n\t\t\t\theight: image.width / aspect,\r\n\t\t\t\twidth: image.width,\r\n\t\t\t\ty: (image.height - image.width / aspect) / 2\r\n\t\t\t});\r\n\t\t}\r\n\t}, [imageRef, getAspectRatio]);\r\n\r\n\t/**\r\n\t * When deselected, reset the crop state.\r\n\t */\r\n\tconst resetCrop = useCallback(() => {\r\n\t\t// If we have existing aspect ratio form values, keep the aspect ratio\r\n\t\t// locked.\r\n\t\tif (formState.aspectRatioHeight && formState.aspectRatioWidth) {\r\n\t\t\tsetCrop({ aspect: formState.aspectRatioWidth / formState.aspectRatioHeight });\r\n\t\t}\r\n\t\t// Otherwise, remove the aspect ratio.\r\n\t\telse {\r\n\t\t\tsetCrop({});\r\n\t\t}\r\n\t}, [formState.aspectRatioHeight, formState.aspectRatioWidth]);\r\n\r\n\t/**\r\n\t * When files get successfully dropped onto the drop zone, or added by the\r\n\t * file picker, load them into our crop tool and set a default crop.\r\n\t */\r\n\tconst onDrop = useCallback(\r\n\t\t(files: File[]) => {\r\n\t\t\tconst file = files[0];\r\n\r\n\t\t\tsetFileState({\r\n\t\t\t\tstatus: Status.Success,\r\n\t\t\t\tfile,\r\n\t\t\t\tsrc: URL.createObjectURL(file)\r\n\t\t\t});\r\n\r\n\t\t\t// @todo: Once the file state above loads, several renders are required\r\n\t\t\t// before we can set a default crop. Need to determine a better way of\r\n\t\t\t// programmatically determining this, rather than using a timeout.\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tsetDefaultCrop();\r\n\t\t\t}, 250);\r\n\t\t},\r\n\t\t[setDefaultCrop]\r\n\t);\r\n\r\n\t/**\r\n\t * Reset the image, crop and dropzone when an image is removed.\r\n\t */\r\n\tconst resetImage = useCallback(() => {\r\n\t\tresetCrop();\r\n\t\tsetFileState(DEFAULT_FILE_STATE);\r\n\t\tsetResults(undefined);\r\n\t}, [resetCrop]);\r\n\r\n\t/**\r\n\t * When the form is submitted or download button is clicked, generate a new\r\n\t * image.\r\n\t */\r\n\tconst onSubmit = useCallback(async () => {\r\n\t\t// Ignore this if there is no image available.\r\n\t\tif (imageRef.current === null || fileState === undefined) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Ignore this if we are currently handling the download of an image already.\r\n\t\tif (fileState.status !== Status.Success && fileState.status !== Status.Downloading) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tsetFileState({ status: Status.Downloading, file: fileState.file, src: fileState.src });\r\n\r\n\t\tconst maxWidth = formState.preventScalingUp\r\n\t\t\t? Math.min(formState.maxWidth, imageRef.current.naturalWidth)\r\n\t\t\t: formState.maxWidth;\r\n\r\n\t\t// Generate the image.\r\n\t\tconst results = await downloadImage({\r\n\t\t\tcrop,\r\n\t\t\tfileName: fileState.file.name,\r\n\t\t\tformat: formState.format,\r\n\t\t\timage: imageRef.current,\r\n\t\t\tmaxWidth\r\n\t\t});\r\n\r\n\t\tsetResults(results);\r\n\r\n\t\tsetFileState({ status: Status.Success, file: fileState.file, src: fileState.src });\r\n\t}, [crop, fileState, formState, imageRef, setFileState, setResults]);\r\n\r\n\t//#endregion CALLBACKS\r\n\r\n\t//#region USEEFFECTS\r\n\r\n\t/**\r\n\t * Enable or disable crop when the state value changes.\r\n\t */\r\n\tReact.useEffect(() => {\r\n\t\tconsole.info(`[ImageResizer] The crop toggle has been changed to ${formState.crop}.`);\r\n\r\n\t\tif (formState.crop) {\r\n\t\t\tsetDefaultCrop();\r\n\t\t} else {\r\n\t\t\tsetCrop({});\r\n\t\t}\r\n\t}, [formState.crop, setDefaultCrop]);\r\n\r\n\t/**\r\n\t * Enable or disable the locked image ratio.\r\n\t */\r\n\tReact.useEffect(() => {\r\n\t\tconsole.info(`[ImageResizer] The lock aspect ratio toggle has been changed to ${formState.lockAspectRatio}.`);\r\n\r\n\t\tif (formState.lockAspectRatio) {\r\n\t\t\tsetDefaultCrop();\r\n\t\t} else {\r\n\t\t\tsetCrop((prevState) => {\r\n\t\t\t\treturn { ...prevState, aspect: undefined };\r\n\t\t\t});\r\n\t\t}\r\n\t}, [formState.lockAspectRatio, setDefaultCrop]);\r\n\r\n\t// Re-set the crop.\r\n\tReact.useEffect(() => {\r\n\t\tconsole.info(\r\n\t\t\t`[ImageResizer] The aspect ratio has changed to ${formState.aspectRatioWidth}:${formState.aspectRatioHeight}.`\r\n\t\t);\r\n\r\n\t\tif (formState.aspectRatioWidth && formState.aspectRatioHeight) {\r\n\t\t\tsetDefaultCrop();\r\n\t\t\tsetFormState((prevState) => ({ ...prevState, crop: true }));\r\n\t\t}\r\n\t}, [formState.aspectRatioHeight, formState.aspectRatioWidth, setDefaultCrop]);\r\n\r\n\t//#endregion USEEFFECTS\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<div\r\n\t\t\t\tcss={{\r\n\t\t\t\t\tbackgroundColor: theme.colors.white,\r\n\t\t\t\t\tborderRight: `1px solid ${theme.colors.neutralLight}`,\r\n\t\t\t\t\theight: '100%',\r\n\t\t\t\t\tleft: 0,\r\n\t\t\t\t\toverflowY: 'scroll',\r\n\t\t\t\t\tpaddingBottom: theme.space[3],\r\n\t\t\t\t\tpaddingTop: theme.space[3],\r\n\t\t\t\t\tposition: 'fixed',\r\n\t\t\t\t\twidth: SIDEBAR_WIDTH\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Header />\r\n\r\n\t\t\t\t<ImageResizerForm\r\n\t\t\t\t\tisDownloading={fileState.status === Status.Downloading}\r\n\t\t\t\t\timage={imageRef.current}\r\n\t\t\t\t\tformState={formState}\r\n\t\t\t\t\tsetFormState={setFormState}\r\n\t\t\t\t\tonSubmit={onSubmit}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{fileState.status === Status.Downloading && <Spinner>Compressing image...</Spinner>}\r\n\r\n\t\t\t\t<hr />\r\n\r\n\t\t\t\t{results && fileState.status === Status.Success && (\r\n\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t<ResultsTable\r\n\t\t\t\t\t\t\tresults={[\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tname: 'Original',\r\n\t\t\t\t\t\t\t\t\twidth: imageRef.current.naturalWidth,\r\n\t\t\t\t\t\t\t\t\theight: imageRef.current.naturalHeight,\r\n\t\t\t\t\t\t\t\t\tsize: fileState.file.size\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tname: 'New',\r\n\t\t\t\t\t\t\t\t\twidth: results.width,\r\n\t\t\t\t\t\t\t\t\theight: results.height,\r\n\t\t\t\t\t\t\t\t\tsize: results.size\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Footer />\r\n\t\t\t</div>\r\n\r\n\t\t\t<div\r\n\t\t\t\tcss={{\r\n\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\tbackgroundColor: theme.colors.neutralLighterAlt,\r\n\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\tflexDirection: 'column',\r\n\t\t\t\t\theight: '100%',\r\n\t\t\t\t\tjustifyContent: 'center',\r\n\t\t\t\t\tpadding: theme.space[6],\r\n\t\t\t\t\tpaddingLeft: SIDEBAR_WIDTH + theme.space[6]\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t{fileState.status === Status.Initial && <DropzoneContainer onDropAccepted={onDrop} />}\r\n\r\n\t\t\t\t{fileState.status === Status.Loading && <Spinner>Loading image...</Spinner>}\r\n\r\n\t\t\t\t{(fileState.status === Status.Success || fileState.status === Status.Downloading) && (\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tcss={{\r\n\t\t\t\t\t\t\talignItems: 'center',\r\n\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\tflexDirection: 'column',\r\n\t\t\t\t\t\t\tmaxWidth: imageRef?.current?.naturalWidth\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tcss={{\r\n\t\t\t\t\t\t\t\tdisplay: 'flex',\r\n\t\t\t\t\t\t\t\tjustifyContent: 'center'\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<ActionButton\r\n\t\t\t\t\t\t\t\tdisabled={!crop || isNaN(crop.height) || (crop.width === 0 && crop.height === 0)}\r\n\t\t\t\t\t\t\t\ticonProps={{\r\n\t\t\t\t\t\t\t\t\ticonName: 'ClearSelection'\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tonClick={resetCrop}\r\n\t\t\t\t\t\t\t\tstyles={{\r\n\t\t\t\t\t\t\t\t\troot: {\r\n\t\t\t\t\t\t\t\t\t\twhiteSpace: 'nowrap'\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\ticon: {\r\n\t\t\t\t\t\t\t\t\t\tcolor: theme.colors.themePrimary\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tDeselect crop\r\n\t\t\t\t\t\t\t</ActionButton>\r\n\r\n\t\t\t\t\t\t\t<ActionButton\r\n\t\t\t\t\t\t\t\tdisabled={fileState.status === Status.Downloading}\r\n\t\t\t\t\t\t\t\ticonProps={{\r\n\t\t\t\t\t\t\t\t\ticonName: 'RemoveFilter'\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tonClick={resetImage}\r\n\t\t\t\t\t\t\t\tstyles={{\r\n\t\t\t\t\t\t\t\t\troot: {\r\n\t\t\t\t\t\t\t\t\t\twhiteSpace: 'nowrap'\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\ticon: {\r\n\t\t\t\t\t\t\t\t\t\tcolor: theme.colors.themePrimary\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tReplace image\r\n\t\t\t\t\t\t\t</ActionButton>\r\n\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tcss={{\r\n\t\t\t\t\t\t\t\tboxShadow: theme.shadows.depth16,\r\n\t\t\t\t\t\t\t\tmaxHeight: 'calc(100% - 40px)'\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<React.Suspense fallback={<div />}>\r\n\t\t\t\t\t\t\t\t<ReactImageCrop\r\n\t\t\t\t\t\t\t\t\tcrop={crop}\r\n\t\t\t\t\t\t\t\t\tdisabled={!formState.crop || fileState.status === Status.Downloading}\r\n\t\t\t\t\t\t\t\t\tlocked={!formState.crop || fileState.status === Status.Downloading}\r\n\t\t\t\t\t\t\t\t\tonChange={(newCrop) => {\r\n\t\t\t\t\t\t\t\t\t\trequestAnimationFrame(() => setCrop(newCrop));\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tonImageLoaded={(image) => {\r\n\t\t\t\t\t\t\t\t\t\timageRef.current = image;\r\n\r\n\t\t\t\t\t\t\t\t\t\tif (!formState.crop) {\r\n\t\t\t\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\trequestAnimationFrame(setDefaultCrop);\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\truleOfThirds={true}\r\n\t\t\t\t\t\t\t\t\tsrc={fileState.src}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</React.Suspense>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</React.Fragment>\r\n\t);\r\n};\r\n\r\nImageResizer.displayName = 'ImageResizer';\r\n","/** @jsx jsx  */\r\n\r\nimport { jsx } from '@emotion/core';\r\n\r\nimport { ImageResizer } from './ImageResizer';\r\n\r\nexport const ImageResizerContainer = () => {\r\n\tconst urlParams = new URLSearchParams(window.location.search);\r\n\r\n\treturn (\r\n\t\t<ImageResizer\r\n\t\t\taspectRatioHeight={urlParams.get('ar-h')}\r\n\t\t\taspectRatioWidth={urlParams.get('ar-w')}\r\n\t\t\tformat={urlParams.get('format')}\r\n\t\t\tmaxHeight={urlParams.get('max-h')}\r\n\t\t\tmaxWidth={urlParams.get('max-w')}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nImageResizerContainer.displayName = 'ImageResizerContainer';\r\n","/** @jsx jsx */\r\n\r\nimport { Global, jsx } from '@emotion/core';\r\nimport { registerIcons } from '@fluentui/react/lib/Styling';\r\n\r\nimport { useTheme } from '../use-theme';\r\n\r\nregisterIcons({\r\n\ticons: {\r\n\t\tChevronDownSmall: (\r\n\t\t\t<svg width=\"8\" height=\"6\" viewBox=\"0 0 8 6\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t\t<path\r\n\t\t\t\t\td=\"M7.02734 0.363281L7.97266 1.30469L4 5.27734L0.0273438 1.30469L0.972656 0.363281L4 3.39062L7.02734 0.363281Z\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t/>\r\n\t\t\t</svg>\r\n\t\t),\r\n\t\tChevronUpSmall: (\r\n\t\t\t<svg width=\"8\" height=\"6\" viewBox=\"0 0 8 6\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t\t<path\r\n\t\t\t\t\td=\"M4 0.722656L7.97266 4.69531L7.02734 5.63672L4 2.60938L0.972656 5.63672L0.0273438 4.69531L4 0.722656Z\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t/>\r\n\t\t\t</svg>\r\n\t\t),\r\n\t\tClearSelection: (\r\n\t\t\t<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t\t<path\r\n\t\t\t\t\td=\"M13.3828 7C13.7422 7 14.0807 7.07031 14.3984 7.21094C14.7161 7.34635 14.9922 7.53385 15.2266 7.77344C15.4661 8.00781 15.6536 8.28646 15.7891 8.60938C15.9297 8.92708 16 9.26562 16 9.625C16 9.96875 15.9349 10.3021 15.8047 10.625C15.6745 10.9427 15.4844 11.2266 15.2344 11.4766L11.7266 14.9766L11.0234 14.2734L14.5234 10.7656C14.6745 10.6146 14.7917 10.4401 14.875 10.2422C14.9583 10.0443 15 9.83854 15 9.625C15 9.40104 14.9557 9.19271 14.8672 9C14.7839 8.80208 14.6667 8.63021 14.5156 8.48438C14.3698 8.33333 14.1979 8.21615 14 8.13281C13.8073 8.04427 13.599 8 13.375 8C13.1615 8 12.9557 8.04167 12.7578 8.125C12.5599 8.20833 12.3854 8.32552 12.2344 8.47656L10.7109 10H12V11H9V8H10V9.28906C10.2448 9.04427 10.487 8.78646 10.7266 8.51562C10.9661 8.24479 11.2188 7.9974 11.4844 7.77344C11.7552 7.54948 12.0443 7.36458 12.3516 7.21875C12.6589 7.07292 13.0026 7 13.3828 7ZM14 6H13V5H14V6ZM14 4H13V3H14V4ZM14 2H13V1H14V2ZM12 2H11V1H12V2ZM10 2H9V1H10V2ZM7 1H8V2H7V1ZM5 1H6V2H5V1ZM3 1H4V2H3V1ZM1 1H2V2H1V1ZM1 3H2V4H1V3ZM1 5H2V6H1V5ZM1 7H2V8H1V7ZM1 9H2V10H1V9ZM1 11H2V12H1V11ZM1 13H2V14H1V13ZM3 13H4V14H3V13ZM5 13H6V14H5V13ZM7 13H8V14H7V13ZM9 13H10V14H9V13Z\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t/>\r\n\t\t\t</svg>\r\n\t\t),\r\n\t\tDownload: (\r\n\t\t\t<svg width=\"11\" height=\"16\" viewBox=\"0 0 11 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t\t<path\r\n\t\t\t\t\td=\"M1 16V15H10V16H1ZM10.3516 8.35156L5.5 13.2422L0.648438 8.35156L1.35156 7.64844L5 11.3203V0H6V11.3203L9.64844 7.64844L10.3516 8.35156Z\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t/>\r\n\t\t\t</svg>\r\n\t\t),\r\n\t\tRemoveFilter: (\r\n\t\t\t<svg width=\"13\" height=\"16\" viewBox=\"0 0 13 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t\t<path\r\n\t\t\t\t\td=\"M13 3H12V14.5C12 14.7083 11.9609 14.9036 11.8828 15.0859C11.8047 15.2682 11.6979 15.4271 11.5625 15.5625C11.4271 15.6979 11.2682 15.8047 11.0859 15.8828C10.9036 15.9609 10.7083 16 10.5 16H2.5C2.29167 16 2.09635 15.9609 1.91406 15.8828C1.73177 15.8047 1.57292 15.6979 1.4375 15.5625C1.30208 15.4271 1.19531 15.2682 1.11719 15.0859C1.03906 14.9036 1 14.7083 1 14.5V3H0V2H4V1C4 0.859375 4.02604 0.729167 4.07812 0.609375C4.13021 0.489583 4.20052 0.385417 4.28906 0.296875C4.38281 0.203125 4.48958 0.130208 4.60938 0.078125C4.72917 0.0260417 4.85938 0 5 0H8C8.14062 0 8.27083 0.0260417 8.39062 0.078125C8.51042 0.130208 8.61458 0.203125 8.70312 0.296875C8.79688 0.385417 8.86979 0.489583 8.92188 0.609375C8.97396 0.729167 9 0.859375 9 1V2H13V3ZM5 2H8V1H5V2ZM11 3H2V14.5C2 14.6354 2.04948 14.7526 2.14844 14.8516C2.2474 14.9505 2.36458 15 2.5 15H10.5C10.6354 15 10.7526 14.9505 10.8516 14.8516C10.9505 14.7526 11 14.6354 11 14.5V3ZM5 13H4V5H5V13ZM7 13H6V5H7V13ZM9 13H8V5H9V13Z\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t/>\r\n\t\t\t</svg>\r\n\t\t),\r\n\t\tUpload: (\r\n\t\t\t<svg width=\"27\" height=\"43\" viewBox=\"0 0 27 43\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n\t\t\t\t<path\r\n\t\t\t\t\td=\"M25.25 0V2.6875H1.0625V0H25.25ZM26.1948 20.5552L24.3052 22.4448L14.5 12.5767V43H11.8125V12.5767L2.00732 22.4448L0.117676 20.5552L13.1562 7.41162L26.1948 20.5552Z\"\r\n\t\t\t\t\tfill=\"currentColor\"\r\n\t\t\t\t/>\r\n\t\t\t</svg>\r\n\t\t)\r\n\t}\r\n});\r\n\r\nexport const GlobalStyles = () => {\r\n\tconst theme = useTheme();\r\n\r\n\tconst checkeredSize = 20;\r\n\r\n\treturn (\r\n\t\t<Global\r\n\t\t\tstyles={{\r\n\t\t\t\t'*': {\r\n\t\t\t\t\tboxSizing: 'border-box',\r\n\t\t\t\t\tmargin: 0,\r\n\t\t\t\t\tpadding: 0,\r\n\t\t\t\t\tWebkitFontSmoothing: 'antialiased'\r\n\t\t\t\t},\r\n\r\n\t\t\t\t'html, body, #root': {\r\n\t\t\t\t\theight: '100%'\r\n\t\t\t\t},\r\n\r\n\t\t\t\thtml: {\r\n\t\t\t\t\tcolor: theme.colors.bodyText,\r\n\t\t\t\t\tfontFamily: theme.fonts.body,\r\n\t\t\t\t\tfontSize: theme.fontSizes[3]\r\n\t\t\t\t},\r\n\r\n\t\t\t\tbody: {\r\n\t\t\t\t\tlineHeight: theme.lineHeights.body,\r\n\t\t\t\t\tmargin: 0\r\n\t\t\t\t},\r\n\r\n\t\t\t\t'.main': {\r\n\t\t\t\t\tmaxWidth: '48rem',\r\n\t\t\t\t\tmargin: '0 1rem',\r\n\r\n\t\t\t\t\t'@media (min-width: 48rem)': {\r\n\t\t\t\t\t\tmargin: '0 auto'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\r\n\t\t\t\tp: {\r\n\t\t\t\t\tmargin: '1rem 0'\r\n\t\t\t\t},\r\n\r\n\t\t\t\t'h1, h2, h3, h4, h5, h6': {\r\n\t\t\t\t\tlineHeight: theme.lineHeights.heading\r\n\t\t\t\t},\r\n\r\n\t\t\t\th1: {\r\n\t\t\t\t\tcolor: theme.colors.themePrimary,\r\n\t\t\t\t\tfontFamily: theme.fonts.body,\r\n\t\t\t\t\tfontSize: theme.fontSizes[8],\r\n\t\t\t\t\tfontWeight: 600,\r\n\t\t\t\t\tmargin: '1rem 0 2rem 0',\r\n\r\n\t\t\t\t\t'@media (min-width: 768px)': {\r\n\t\t\t\t\t\tfontSize: theme.fontSizes[9]\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\r\n\t\t\t\th2: {\r\n\t\t\t\t\tborderBottom: `1px solid ${theme.colors.neutralLight}`,\r\n\t\t\t\t\tcolor: theme.colors.neutralDark,\r\n\t\t\t\t\tfontFamily: theme.fonts.heading,\r\n\t\t\t\t\tfontSize: theme.fontSizes[5],\r\n\t\t\t\t\tfontWeight: 600,\r\n\t\t\t\t\tmargin: '2rem 0 1rem 0',\r\n\t\t\t\t\tpaddingBottom: theme.space[2],\r\n\r\n\t\t\t\t\t'@media (min-width: 768px)': {\r\n\t\t\t\t\t\tfontSize: theme.fontSizes[6],\r\n\t\t\t\t\t\tmargin: '3rem 0 2rem 0'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\r\n\t\t\t\th3: {\r\n\t\t\t\t\tcolor: theme.colors.neutralDark,\r\n\t\t\t\t\tfontFamily: theme.fonts.heading,\r\n\t\t\t\t\tfontSize: theme.fontSizes[5],\r\n\t\t\t\t\tfontWeight: 'normal',\r\n\t\t\t\t\tmargin: '1.25rem 0 1rem 0',\r\n\r\n\t\t\t\t\t'@media (min-width: 768px)': {\r\n\t\t\t\t\t\tfontSize: theme.fontSizes[6],\r\n\t\t\t\t\t\tmargin: '2.5rem 0 1rem 0'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\r\n\t\t\t\ta: {\r\n\t\t\t\t\tcolor: theme.colors.neutralPrimary,\r\n\t\t\t\t\tboxShadow: `inset 0 -1px 0 ${theme.colors.neutralLight}`,\r\n\t\t\t\t\ttextDecoration: `none`,\r\n\t\t\t\t\ttransition: `all 75ms ease-in`,\r\n\r\n\t\t\t\t\t'&, &:visited': {\r\n\t\t\t\t\t\tcolor: theme.colors.primaryText\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t'&:focus, &:hover': {\r\n\t\t\t\t\t\tboxShadow: `inset 0 -1px 0 ${theme.colors.neutralSecondary}`\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\r\n\t\t\t\thr: {\r\n\t\t\t\t\tbackgroundColor: theme.colors.neutralLight,\r\n\t\t\t\t\tborder: 0,\r\n\t\t\t\t\theight: 1,\r\n\t\t\t\t\tmargin: '1.5rem 0'\r\n\t\t\t\t},\r\n\r\n\t\t\t\t'ul:not([class])': {\r\n\t\t\t\t\tlistStyle: 'none',\r\n\t\t\t\t\tmargin: theme.space[3],\r\n\t\t\t\t\tmarginLeft: '3rem',\r\n\r\n\t\t\t\t\t'li ul': {\r\n\t\t\t\t\t\tmargin: '0 1rem 0 1.5rem'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\r\n\t\t\t\t'li:not([class])': {\r\n\t\t\t\t\tlineHeight: 1.2,\r\n\t\t\t\t\tmargin: '0.75rem 0',\r\n\t\t\t\t\tposition: 'relative',\r\n\r\n\t\t\t\t\t'&:before': {\r\n\t\t\t\t\t\tbackgroundColor: theme.colors.themePrimary,\r\n\t\t\t\t\t\tborderRadius: '50%',\r\n\t\t\t\t\t\tcontent: `\"\"`,\r\n\t\t\t\t\t\tdisplay: 'inline-block',\r\n\t\t\t\t\t\theight: 6,\r\n\t\t\t\t\t\tleft: -20,\r\n\t\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t\ttop: 6,\r\n\t\t\t\t\t\twidth: 6\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\r\n\t\t\t\ttable: {\r\n\t\t\t\t\tborderCollapse: 'collapse',\r\n\t\t\t\t\twidth: '100%',\r\n\r\n\t\t\t\t\t'tbody tr': {\r\n\t\t\t\t\t\t'&:nth-of-type(odd)': {\r\n\t\t\t\t\t\t\tbackgroundColor: theme.colors.neutralLighterAlt\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t'th, td': {\r\n\t\t\t\t\t\tfontSize: theme.fontSizes[1],\r\n\t\t\t\t\t\tpadding: theme.space[1],\r\n\t\t\t\t\t\ttextAlign: 'left',\r\n\r\n\t\t\t\t\t\t'@media (min-width: 768px)': {\r\n\t\t\t\t\t\t\tfontSize: theme.fontSizes[2],\r\n\t\t\t\t\t\t\tpadding: theme.space[2]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\r\n\t\t\t\timg: {\r\n\t\t\t\t\tmaxWidth: '100%'\r\n\t\t\t\t},\r\n\r\n\t\t\t\t'.ReactCrop': {\r\n\t\t\t\t\tdisplay: 'block !important',\r\n\t\t\t\t\tmaxHeight: '100%'\r\n\t\t\t\t},\r\n\r\n\t\t\t\t'.ReactCrop__image': {\r\n\t\t\t\t\tbackgroundImage: `linear-gradient(45deg, ${theme.colors.neutralLight} 25%, transparent 25%),\r\n\t\t\t\t\t\tlinear-gradient(45deg, transparent 75%, ${theme.colors.neutralLight} 75%),\r\n\t\t\t\t\t\tlinear-gradient(45deg, transparent 75%, ${theme.colors.neutralLight} 75%),\r\n\t\t\t\t\t\tlinear-gradient(45deg, ${theme.colors.neutralLight} 25%, transparent 25%)`,\r\n\t\t\t\t\tbackgroundSize: `${checkeredSize}px ${checkeredSize}px`,\r\n\t\t\t\t\tbackgroundPosition: `0 0,\r\n\t\t\t\t\t\t0 0,\r\n\t\t\t\t\t\t-${checkeredSize / 2}px -${checkeredSize / 2}px,\r\n\t\t\t\t\t\t${checkeredSize / 2}px ${checkeredSize / 2}px`,\r\n\t\t\t\t\tmaxHeight: 'calc(100vh - 120px)'\r\n\t\t\t\t}\r\n\t\t\t}}\r\n\t\t/>\r\n\t);\r\n};\r\n","/** @jsx jsx */\r\n/** @jsxFrag React.Fragment */\r\n\r\nimport { jsx } from '@emotion/core';\r\nimport React from 'react';\r\n\r\nimport { loadTheme } from '@fluentui/react/lib/Styling';\r\nimport { ThemeProvider as EmotionThemeProvider } from 'emotion-theming';\r\n\r\nimport theme from '../theme.json';\r\nimport { GlobalStyles } from './GlobalStyles';\r\n\r\n// Load Fluent UI theme colours\r\nloadTheme({\r\n\tdefaultFontStyle: {\r\n\t\tfontFamily: theme.fonts.body\r\n\t},\r\n\tpalette: theme.colors\r\n});\r\n\r\ntype ThemeProviderProps = {\r\n\tchildren?: React.ReactNode;\r\n};\r\n\r\nexport const ThemeProvider = ({ children }: ThemeProviderProps) => {\r\n\treturn (\r\n\t\t<EmotionThemeProvider theme={theme}>\r\n\t\t\t<GlobalStyles />\r\n\r\n\t\t\t{children}\r\n\t\t</EmotionThemeProvider>\r\n\t);\r\n};\r\n\r\nThemeProvider.displayName = 'ThemeProvider';\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n\twindow.location.hostname === 'localhost' ||\r\n\t\t// [::1] is the IPv6 localhost address.\r\n\t\twindow.location.hostname === '[::1]' ||\r\n\t\t// 127.0.0.0/8 are considered localhost for IPv4.\r\n\t\twindow.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\r\n);\r\n\r\nexport function register(config) {\r\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n\t\t// The URL constructor is available in all browsers that support SW.\r\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n\t\tif (publicUrl.origin !== window.location.origin) {\r\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\r\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\r\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\twindow.addEventListener('load', () => {\r\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n\t\t\tif (isLocalhost) {\r\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\r\n\t\t\t\tcheckValidServiceWorker(swUrl, config);\r\n\r\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\r\n\t\t\t\t// service worker/PWA documentation.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\r\n\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\r\n\t\t\t\t\t\t\t'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// Is not localhost. Just register service worker\r\n\t\t\t\tregisterValidSW(swUrl, config);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n\tnavigator.serviceWorker\r\n\t\t.register(swUrl)\r\n\t\t.then((registration) => {\r\n\t\t\tregistration.onupdatefound = () => {\r\n\t\t\t\tconst installingWorker = registration.installing;\r\n\t\t\t\tif (installingWorker == null) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tinstallingWorker.onstatechange = () => {\r\n\t\t\t\t\tif (installingWorker.state === 'installed') {\r\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\r\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\r\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\r\n\t\t\t\t\t\t\t// content until all client tabs are closed.\r\n\t\t\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\r\n\t\t\t\t\t\t\t\t\t'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\r\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// At this point, everything has been precached.\r\n\t\t\t\t\t\t\t// It's the perfect time to display a\r\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\r\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.');\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\r\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t};\r\n\t\t})\r\n\t\t.catch((error) => {\r\n\t\t\tconsole.error('Error during service worker registration:', error);\r\n\t\t});\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n\t// Check if the service worker can be found. If it can't reload the page.\r\n\tfetch(swUrl, {\r\n\t\theaders: { 'Service-Worker': 'script' }\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\r\n\t\t\tconst contentType = response.headers.get('content-type');\r\n\r\n\t\t\tif (response.status === 404 || (contentType != null && contentType.indexOf('javascript') === -1)) {\r\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\r\n\t\t\t\tnavigator.serviceWorker.ready.then((registration) => {\r\n\t\t\t\t\tregistration.unregister().then(() => {\r\n\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// Service worker found. Proceed as normal.\r\n\t\t\t\tregisterValidSW(swUrl, config);\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(() => {\r\n\t\t\tconsole.log('No internet connection found. App is running in offline mode.');\r\n\t\t});\r\n}\r\n\r\nexport function unregister() {\r\n\tif ('serviceWorker' in navigator) {\r\n\t\tnavigator.serviceWorker.ready\r\n\t\t\t.then((registration) => {\r\n\t\t\t\tregistration.unregister();\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.error(error.message);\r\n\t\t\t});\r\n\t}\r\n}\r\n","/** @jsx jsx  */\r\n\r\nimport { jsx } from '@emotion/core';\r\nimport React from 'react';\r\n\r\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport { Documentation } from './Documentation';\r\nimport { ImageResizerContainer } from './ImageResizer';\r\nimport { ThemeProvider } from './Theme/components/ThemeProvider';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t<ThemeProvider>\r\n\t\t\t<BrowserRouter>\r\n\t\t\t\t<Switch>\r\n\t\t\t\t\t<Route exact path=\"/image-resizer\">\r\n\t\t\t\t\t\t<ImageResizerContainer />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t\t<Route path=\"/image-resizer/documentation\">\r\n\t\t\t\t\t\t<Documentation />\r\n\t\t\t\t\t</Route>\r\n\t\t\t\t</Switch>\r\n\t\t\t</BrowserRouter>\r\n\t\t</ThemeProvider>\r\n\t</React.StrictMode>,\r\n\tdocument.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.register({});\r\n"],"sourceRoot":""}